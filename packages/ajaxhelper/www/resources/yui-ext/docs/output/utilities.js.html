<html><head><title>utilities.js</title><link rel="stylesheet" type="text/css" href="../resources/style.css" media="screen"/></head><body><h1>utilities.js</h1><pre class="highlighted"><code><i>/* Copyright (c) 2006, Yahoo! Inc. All rights reserved.Code licensed under the BSD License:http:<i>//developer.yahoo.net/yui/license.txtversion: 0.12.0 */</i></i>
<b>if</b>(typeof YAHOO==&quot;undefined&quot;){<b>var</b> YAHOO={};}YAHOO.namespace=<b>function</b>(){<b>var</b> a=arguments,o=null,i,j,d;<b>for</b>(i=0;i&lt;a.length;++i){d=a[i].split(&quot;.&quot;);o=YAHOO;<b>for</b>(j=(d[0]==&quot;YAHOO&quot;)?1:0;j&lt;d.length;++j){o[d[j]]=o[d[j]]||{};o=o[d[j]];}}<b>return</b> o;};YAHOO.log=<b>function</b>(_2,_3,_4){<b>var</b> l=YAHOO.widget.Logger;<b>if</b>(l&amp;&amp;l.log){<b>return</b> l.log(_2,_3,_4);}<b>else</b>{return false;}};YAHOO.extend=<b>function</b>(_6,_7,_8){<b>var</b> F=<b>function</b>(){};F.prototype=_7.prototype;_6.prototype=<b>new</b> F();_6.prototype.constructor=_6;_6.superclass=_7.prototype;<b>if</b>(_7.prototype.constructor==Object.prototype.constructor){_7.prototype.constructor=_7;}<b>if</b>(_8){<b>for</b>(var i <b>in</b> _8){_6.prototype[i]=_8[i];}}};YAHOO.augment=<b>function</b>(r,s){<b>var</b> rp=r.prototype,sp=s.prototype,a=arguments,i,p;<b>if</b>(a[2]){<b>for</b>(i=2;i&lt;a.length;++i){rp[a[i]]=sp[a[i]];}}<b>else</b>{for(p <b>in</b> sp){<b>if</b>(!rp[p]){rp[p]=sp[p];}}}};YAHOO.namespace(&quot;util&quot;,&quot;widget&quot;,&quot;example&quot;);(<b>function</b>(){<b>var</b> Y=YAHOO.util,getStyle,setStyle,id_counter=0,propertyCache={};<b>var</b> ua=navigator.userAgent.toLowerCase(),isOpera=(ua.indexOf('opera')&gt;-1),isSafari=(ua.indexOf('safari')&gt;-1),isGecko=(!isOpera&amp;&amp;!isSafari&amp;&amp;ua.indexOf('gecko')&gt;-1),isIE=(!isOpera&amp;&amp;ua.indexOf('msie')&gt;-1);<b>var</b> patterns={HYPHEN:/(-[a-z])/i};<b>var</b> toCamel=<b>function</b>(property){<b>if</b>(!patterns.HYPHEN.test(property)){<b>return</b> property;}<b>if</b>(propertyCache[property]){<b>return</b> propertyCache[property];}<b>while</b>(patterns.HYPHEN.exec(property)){property=property.replace(RegExp.$1,RegExp.$1.substr(1).toUpperCase());}propertyCache[property]=property;<b>return</b> property;};<b>if</b>(document.defaultView&amp;&amp;document.defaultView.getComputedStyle){getStyle=<b>function</b>(el,property){<b>var</b> value=null;<b>var</b> computed=document.defaultView.getComputedStyle(el,'');<b>if</b>(computed){value=computed[toCamel(property)];}<b>return</b> el.style[property]||value;};}<b>else</b> if(document.documentElement.currentStyle&amp;&amp;isIE){getStyle=<b>function</b>(el,property){<b>switch</b>(toCamel(property)){<b>case</b>'opacity':<b>var</b> val=100;try{val=el.filters['DXImageTransform.Microsoft.Alpha'].opacity;}catch(e){try{val=el.filters('alpha').opacity;}catch(e){}}<b>return</b> val/100;<b>break</b>;default:<b>var</b> value=el.currentStyle?el.currentStyle[property]:null;<b>return</b>(el.style[property]||value);}};}<b>else</b>{getStyle=<b>function</b>(el,property){<b>return</b> el.style[property];};}<b>if</b>(isIE){setStyle=<b>function</b>(el,property,val){<b>switch</b>(property){<b>case</b>'opacity':<b>if</b>(typeof el.style.filter=='string'){el.style.filter='alpha(opacity='+val*100+')';<b>if</b>(!el.currentStyle||!el.currentStyle.hasLayout){el.style.zoom=1;}}<b>break</b>;default:el.style[property]=val;}};}<b>else</b>{setStyle=<b>function</b>(el,property,val){el.style[property]=val;};}YAHOO.util.Dom={get:<b>function</b>(el){<b>if</b>(!el){<b>return</b> null;}<b>if</b>(typeof el!='string'&amp;&amp;!(el instanceof Array)){<b>return</b> el;}<b>if</b>(typeof el=='string'){<b>return</b> document.getElementById(el);}<b>else</b>{var collection=[];<b>for</b>(var i=0,len=el.length;i&lt;len;++i){collection[collection.length]=Y.Dom.get(el[i]);}<b>return</b> collection;}<b>return</b> null;},getStyle:<b>function</b>(el,property){property=toCamel(property);<b>var</b> f=<b>function</b>(element){<b>return</b> getStyle(element,property);};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},setStyle:<b>function</b>(el,property,val){property=toCamel(property);<b>var</b> f=<b>function</b>(element){setStyle(element,property,val);};Y.Dom.batch(el,f,Y.Dom,true);},getXY:<b>function</b>(el){<b>var</b> f=<b>function</b>(el){<b>if</b>(el.parentNode===null||el.offsetParent===null||<b>this</b>.getStyle(el,'display')=='none'){<b>return</b> false;}<b>var</b> parentNode=null;<b>var</b> pos=[];<b>var</b> box;<b>if</b>(el.getBoundingClientRect){box=el.getBoundingClientRect();<b>var</b> doc=document;<b>if</b>(!<b>this</b>.inDocument(el)&amp;&amp;parent.document!=document){doc=parent.document;<b>if</b>(!<b>this</b>.isAncestor(doc.documentElement,el)){<b>return</b> false;}}<b>var</b> scrollTop=Math.max(doc.documentElement.scrollTop,doc.body.scrollTop);<b>var</b> scrollLeft=Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft);<b>return</b>[box.left+scrollLeft,box.top+scrollTop];}<b>else</b>{pos=[el.offsetLeft,el.offsetTop];parentNode=el.offsetParent;<b>if</b>(parentNode!=el){<b>while</b>(parentNode){pos[0]+=parentNode.offsetLeft;pos[1]+=parentNode.offsetTop;parentNode=parentNode.offsetParent;}}<b>if</b>(isSafari&amp;&amp;<b>this</b>.getStyle(el,'position')=='absolute'){pos[0]-=document.body.offsetLeft;pos[1]-=document.body.offsetTop;}}<b>if</b>(el.parentNode){parentNode=el.parentNode;}<b>else</b>{parentNode=null;}<b>while</b>(parentNode&amp;&amp;parentNode.tagName.toUpperCase()!='BODY'&amp;&amp;parentNode.tagName.toUpperCase()!='HTML'){<b>if</b>(Y.Dom.getStyle(parentNode,'display')!='inline'){pos[0]-=parentNode.scrollLeft;pos[1]-=parentNode.scrollTop;}<b>if</b>(parentNode.parentNode){parentNode=parentNode.parentNode;}<b>else</b>{parentNode=null;}}<b>return</b> pos;};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},getX:<b>function</b>(el){<b>var</b> f=<b>function</b>(el){<b>return</b> Y.Dom.getXY(el)[0];};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},getY:<b>function</b>(el){<b>var</b> f=<b>function</b>(el){<b>return</b> Y.Dom.getXY(el)[1];};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},setXY:<b>function</b>(el,pos,noRetry){<b>var</b> f=<b>function</b>(el){<b>var</b> style_pos=<b>this</b>.getStyle(el,'position');<b>if</b>(style_pos=='static'){<b>this</b>.setStyle(el,'position','relative');style_pos='relative';}<b>var</b> pageXY=<b>this</b>.getXY(el);<b>if</b>(pageXY===false){<b>return</b> false;}<b>var</b> delta=[parseInt(<b>this</b>.getStyle(el,'left'),10),parseInt(<b>this</b>.getStyle(el,'top'),10)];<b>if</b>(isNaN(delta[0])){delta[0]=(style_pos=='relative')?0:el.offsetLeft;}<b>if</b>(isNaN(delta[1])){delta[1]=(style_pos=='relative')?0:el.offsetTop;}<b>if</b>(pos[0]!==null){el.style.left=pos[0]-pageXY[0]+delta[0]+'px';}<b>if</b>(pos[1]!==null){el.style.top=pos[1]-pageXY[1]+delta[1]+'px';}<b>var</b> newXY=<b>this</b>.getXY(el);<b>if</b>(!noRetry&amp;&amp;(newXY[0]!=pos[0]||newXY[1]!=pos[1])){<b>this</b>.setXY(el,pos,true);}};Y.Dom.batch(el,f,Y.Dom,true);},setX:<b>function</b>(el,x){Y.Dom.setXY(el,[x,null]);},setY:<b>function</b>(el,y){Y.Dom.setXY(el,[null,y]);},getRegion:<b>function</b>(el){<b>var</b> f=<b>function</b>(el){<b>var</b> region=<b>new</b> Y.Region.getRegion(el);<b>return</b> region;};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},getClientWidth:<b>function</b>(){<b>return</b> Y.Dom.getViewportWidth();},getClientHeight:<b>function</b>(){<b>return</b> Y.Dom.getViewportHeight();},getElementsByClassName:<b>function</b>(className,tag,root){<b>var</b> method=<b>function</b>(el){<b>return</b> Y.Dom.hasClass(el,className);};<b>return</b> Y.Dom.getElementsBy(method,tag,root);},hasClass:<b>function</b>(el,className){<b>var</b> re=<b>new</b> RegExp('(?:^|\\s+)'+className+'(?:\\s+|$)');<b>var</b> f=<b>function</b>(el){<b>return</b> re.test(el['className']);};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},addClass:<b>function</b>(el,className){<b>var</b> f=<b>function</b>(el){<b>if</b>(this.hasClass(el,className)){<b>return</b>;}el['className']=[el['className'],className].join(' ');};Y.Dom.batch(el,f,Y.Dom,true);},removeClass:<b>function</b>(el,className){<b>var</b> re=<b>new</b> RegExp('(?:^|\\s+)'+className+'(?:\\s+|$)','g');<b>var</b> f=<b>function</b>(el){<b>if</b>(!<b>this</b>.hasClass(el,className)){<b>return</b>;}<b>var</b> c=el['className'];el['className']=c.replace(re,' ');<b>if</b>(this.hasClass(el,className)){<b>this</b>.removeClass(el,className);}};Y.Dom.batch(el,f,Y.Dom,true);},replaceClass:<b>function</b>(el,oldClassName,newClassName){<b>if</b>(oldClassName===newClassName){<b>return</b> false;}<b>var</b> re=<b>new</b> RegExp('(?:^|\\s+)'+oldClassName+'(?:\\s+|$)','g');<b>var</b> f=<b>function</b>(el){<b>if</b>(!<b>this</b>.hasClass(el,oldClassName)){<b>this</b>.addClass(el,newClassName);<b>return</b>;}el['className']=el['className'].replace(re,' '+newClassName+' ');<b>if</b>(this.hasClass(el,oldClassName)){<b>this</b>.replaceClass(el,oldClassName,newClassName);}};Y.Dom.batch(el,f,Y.Dom,true);},generateId:<b>function</b>(el,prefix){prefix=prefix||'yui-gen';el=el||{};<b>var</b> f=<b>function</b>(el){<b>if</b>(el){el=Y.Dom.get(el);}<b>else</b>{el={};}<b>if</b>(!el.id){el.id=prefix+id_counter++;}<b>return</b> el.id;};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},isAncestor:<b>function</b>(haystack,needle){haystack=Y.Dom.get(haystack);<b>if</b>(!haystack||!needle){<b>return</b> false;}<b>var</b> f=<b>function</b>(needle){<b>if</b>(haystack.contains&amp;&amp;!isSafari){<b>return</b> haystack.contains(needle);}<b>else</b> if(haystack.compareDocumentPosition){<b>return</b>!!(haystack.compareDocumentPosition(needle)&amp;16);}<b>else</b>{var parent=needle.parentNode;<b>while</b>(parent){<b>if</b>(parent==haystack){<b>return</b> true;}<b>else</b> if(!parent.tagName||parent.tagName.toUpperCase()=='HTML'){<b>return</b> false;}parent=parent.parentNode;}<b>return</b> false;}};<b>return</b> Y.Dom.batch(needle,f,Y.Dom,true);},inDocument:<b>function</b>(el){<b>var</b> f=<b>function</b>(el){<b>return</b> this.isAncestor(document.documentElement,el);};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},getElementsBy:<b>function</b>(method,tag,root){tag=tag||'*';root=Y.Dom.get(root)||document;<b>var</b> nodes=[];<b>var</b> elements=root.getElementsByTagName(tag);<b>if</b>(!elements.length&amp;&amp;(tag=='*'&amp;&amp;root.all)){elements=root.all;}<b>for</b>(var i=0,len=elements.length;i&lt;len;++i){<b>if</b>(method(elements[i])){nodes[nodes.length]=elements[i];}}<b>return</b> nodes;},batch:<b>function</b>(el,method,o,override){<b>var</b> id=el;el=Y.Dom.get(el);<b>var</b> scope=(override)?o:window;<b>if</b>(!el||el.tagName||!el.length){<b>if</b>(!el){<b>return</b> false;}<b>return</b> method.call(scope,el,o);}<b>var</b> collection=[];<b>for</b>(var i=0,len=el.length;i&lt;len;++i){<b>if</b>(!el[i]){id=el[i];}collection[collection.length]=method.call(scope,el[i],o);}<b>return</b> collection;},getDocumentHeight:<b>function</b>(){<b>var</b> scrollHeight=(document.compatMode!='CSS1Compat')?document.body.scrollHeight:document.documentElement.scrollHeight;<b>var</b> h=Math.max(scrollHeight,Y.Dom.getViewportHeight());<b>return</b> h;},getDocumentWidth:<b>function</b>(){<b>var</b> scrollWidth=(document.compatMode!='CSS1Compat')?document.body.scrollWidth:document.documentElement.scrollWidth;<b>var</b> w=Math.max(scrollWidth,Y.Dom.getViewportWidth());<b>return</b> w;},getViewportHeight:<b>function</b>(){<b>var</b> height=self.innerHeight;<b>var</b> mode=document.compatMode;<b>if</b>((mode||isIE)&amp;&amp;!isOpera){height=(mode=='CSS1Compat')?document.documentElement.clientHeight:document.body.clientHeight;}<b>return</b> height;},getViewportWidth:<b>function</b>(){<b>var</b> width=self.innerWidth;<b>var</b> mode=document.compatMode;<b>if</b>(mode||isIE){width=(mode=='CSS1Compat')?document.documentElement.clientWidth:document.body.clientWidth;}<b>return</b> width;}};})();YAHOO.util.Region=<b>function</b>(t,r,b,l){<b>this</b>.top=t;<b>this</b>[1]=t;<b>this</b>.right=r;<b>this</b>.bottom=b;<b>this</b>.left=l;<b>this</b>[0]=l;};YAHOO.util.Region.prototype.contains=<b>function</b>(region){<b>return</b>(region.left&gt;=<b>this</b>.left&amp;&amp;region.right&lt;=<b>this</b>.right&amp;&amp;region.top&gt;=<b>this</b>.top&amp;&amp;region.bottom&lt;=<b>this</b>.bottom);};YAHOO.util.Region.prototype.getArea=<b>function</b>(){<b>return</b>((<b>this</b>.bottom-<b>this</b>.top)*(<b>this</b>.right-<b>this</b>.left));};YAHOO.util.Region.prototype.intersect=<b>function</b>(region){<b>var</b> t=Math.max(<b>this</b>.top,region.top);<b>var</b> r=Math.min(<b>this</b>.right,region.right);<b>var</b> b=Math.min(<b>this</b>.bottom,region.bottom);<b>var</b> l=Math.max(<b>this</b>.left,region.left);<b>if</b>(b&gt;=t&amp;&amp;r&gt;=l){<b>return</b> new YAHOO.util.Region(t,r,b,l);}<b>else</b>{return null;}};YAHOO.util.Region.prototype.union=<b>function</b>(region){<b>var</b> t=Math.min(<b>this</b>.top,region.top);<b>var</b> r=Math.max(<b>this</b>.right,region.right);<b>var</b> b=Math.max(<b>this</b>.bottom,region.bottom);<b>var</b> l=Math.min(<b>this</b>.left,region.left);<b>return</b> new YAHOO.util.Region(t,r,b,l);};YAHOO.util.Region.prototype.toString=<b>function</b>(){<b>return</b>(&quot;Region {&quot;+&quot;top: &quot;+<b>this</b>.top+&quot;, right: &quot;+<b>this</b>.right+&quot;, bottom: &quot;+<b>this</b>.bottom+&quot;, left: &quot;+<b>this</b>.left+&quot;}&quot;);};YAHOO.util.Region.getRegion=<b>function</b>(el){<b>var</b> p=YAHOO.util.Dom.getXY(el);<b>var</b> t=p[1];<b>var</b> r=p[0]+el.offsetWidth;<b>var</b> b=p[1]+el.offsetHeight;<b>var</b> l=p[0];<b>return</b> new YAHOO.util.Region(t,r,b,l);};YAHOO.util.Point=<b>function</b>(x,y){<b>if</b>(x instanceof Array){y=x[1];x=x[0];}<b>this</b>.x=<b>this</b>.right=<b>this</b>.left=<b>this</b>[0]=x;<b>this</b>.y=<b>this</b>.top=<b>this</b>.bottom=<b>this</b>[1]=y;};YAHOO.util.Point.prototype=<b>new</b> YAHOO.util.Region();YAHOO.util.CustomEvent=<b>function</b>(_1,_2,_3,_4){<b>this</b>.type=_1;<b>this</b>.scope=_2||window;<b>this</b>.silent=_3;<b>this</b>.signature=_4||YAHOO.util.CustomEvent.LIST;<b>this</b>.subscribers=[];<b>if</b>(!<b>this</b>.silent){}<b>var</b> _5=&quot;_YUICEOnSubscribe&quot;;<b>if</b>(_1!==_5){<b>this</b>.subscribeEvent=<b>new</b> YAHOO.util.CustomEvent(_5,<b>this</b>,true);}};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;YAHOO.util.CustomEvent.prototype={subscribe:<b>function</b>(fn,_7,_8){<b>if</b>(this.subscribeEvent){<b>this</b>.subscribeEvent.fire(fn,_7,_8);}<b>this</b>.subscribers.push(<b>new</b> YAHOO.util.Subscriber(fn,_7,_8));},unsubscribe:<b>function</b>(fn,_9){<b>var</b> _10=false;<b>for</b>(var i=0,len=<b>this</b>.subscribers.length;i&lt;len;++i){<b>var</b> s=<b>this</b>.subscribers[i];<b>if</b>(s&amp;&amp;s.contains(fn,_9)){<b>this</b>._delete(i);_10=true;}}<b>return</b> _10;},fire:<b>function</b>(){<b>var</b> len=<b>this</b>.subscribers.length;<b>if</b>(!len&amp;&amp;<b>this</b>.silent){<b>return</b> true;}<b>var</b> _14=[],ret=true,i;<b>for</b>(i=0;i&lt;arguments.length;++i){_14.push(arguments[i]);}<b>var</b> _15=_14.length;<b>if</b>(!<b>this</b>.silent){}<b>for</b>(i=0;i&lt;len;++i){<b>var</b> s=<b>this</b>.subscribers[i];<b>if</b>(s){<b>if</b>(!<b>this</b>.silent){}<b>var</b> _16=s.getScope(<b>this</b>.scope);<b>if</b>(this.signature==YAHOO.util.CustomEvent.FLAT){<b>var</b> _17=null;<b>if</b>(_14.length&gt;0){_17=_14[0];}ret=s.fn.call(_16,_17,s.obj);}<b>else</b>{ret=s.fn.call(_16,<b>this</b>.type,_14,s.obj);}<b>if</b>(false===ret){<b>if</b>(!<b>this</b>.silent){}<b>return</b> false;}}}<b>return</b> true;},unsubscribeAll:<b>function</b>(){<b>for</b>(var i=0,len=<b>this</b>.subscribers.length;i&lt;len;++i){<b>this</b>._delete(len-1-i);}},_delete:<b>function</b>(_18){<b>var</b> s=<b>this</b>.subscribers[_18];<b>if</b>(s){<b>delete</b> s.fn;<b>delete</b> s.obj;}<b>this</b>.subscribers.splice(_18,1);},toString:<b>function</b>(){<b>return</b> &quot;CustomEvent: &quot;+&quot;'&quot;+<b>this</b>.type+&quot;', &quot;+&quot;scope: &quot;+<b>this</b>.scope;}};YAHOO.util.Subscriber=<b>function</b>(fn,obj,_20){<b>this</b>.fn=fn;<b>this</b>.obj=obj||null;<b>this</b>.override=_20;};YAHOO.util.Subscriber.prototype.getScope=<b>function</b>(_21){<b>if</b>(this.override){<b>if</b>(this.override===true){<b>return</b> this.obj;}<b>else</b>{return <b>this</b>.override;}}<b>return</b> _21;};YAHOO.util.Subscriber.prototype.contains=<b>function</b>(fn,obj){<b>if</b>(obj){<b>return</b> (<b>this</b>.fn==fn&amp;&amp;<b>this</b>.obj==obj);}<b>else</b>{return (<b>this</b>.fn==fn);}};YAHOO.util.Subscriber.prototype.toString=<b>function</b>(){<b>return</b> &quot;Subscriber { obj: &quot;+(<b>this</b>.obj||&quot;&quot;)+&quot;, override: &quot;+(<b>this</b>.override||&quot;no&quot;)+&quot; }&quot;;};<b>if</b>(!YAHOO.util.Event){YAHOO.util.Event=<b>function</b>(){<b>var</b> _22=false;<b>var</b> _23=[];<b>var</b> _24=[];<b>var</b> _25=[];<b>var</b> _26=[];<b>var</b> _27=0;<b>var</b> _28=[];<b>var</b> _29=[];<b>var</b> _30=0;<b>return</b> {POLL_RETRYS:200,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,OBJ:3,ADJ_SCOPE:4,isSafari:(/Safari|Konqueror|KHTML/gi).test(navigator.userAgent),isIE:(!<b>this</b>.isSafari&amp;&amp;!navigator.userAgent.match(/opera/gi)&amp;&amp;navigator.userAgent.match(/msie/gi)),_interval:null,startInterval:<b>function</b>(){<b>if</b>(!<b>this</b>._interval){<b>var</b> _31=<b>this</b>;var _32=<b>function</b>(){_31._tryPreloadAttach();};<b>this</b>._interval=setInterval(_32,<b>this</b>.POLL_INTERVAL);}},onAvailable:<b>function</b>(_33,_34,_35,_36){_28.push({id:_33,fn:_34,obj:_35,override:_36,checkReady:false});_27=<b>this</b>.POLL_RETRYS;<b>this</b>.startInterval();},onContentReady:<b>function</b>(_37,_38,_39,_40){_28.push({id:_37,fn:_38,obj:_39,override:_40,checkReady:true});_27=<b>this</b>.POLL_RETRYS;<b>this</b>.startInterval();},addListener:<b>function</b>(el,_42,fn,obj,_43){<b>if</b>(!fn||!fn.call){<b>return</b> false;}<b>if</b>(this._isValidCollection(el)){<b>var</b> ok=true;<b>for</b>(var i=0,len=el.length;i&lt;len;++i){ok=<b>this</b>.on(el[i],_42,fn,obj,_43)&amp;&amp;ok;}<b>return</b> ok;}<b>else</b>{if(<b>typeof</b> el==&quot;string&quot;){<b>var</b> oEl=<b>this</b>.getEl(el);<b>if</b>(oEl){el=oEl;}<b>else</b>{this.onAvailable(el,<b>function</b>(){YAHOO.util.Event.on(el,_42,fn,obj,_43);});<b>return</b> true;}}}<b>if</b>(!el){<b>return</b> false;}<b>if</b>(&quot;unload&quot;==_42&amp;&amp;obj!==<b>this</b>){_24[_24.length]=[el,_42,fn,obj,_43];<b>return</b> true;}<b>var</b> _46=el;<b>if</b>(_43){<b>if</b>(_43===true){_46=obj;}<b>else</b>{_46=_43;}}<b>var</b> _47=<b>function</b>(e){<b>return</b> fn.call(_46,YAHOO.util.Event.getEvent(e),obj);};<b>var</b> li=[el,_42,fn,_47,_46];<b>var</b> _50=_23.length;_23[_50]=li;<b>if</b>(this.useLegacyEvent(el,_42)){<b>var</b> _51=<b>this</b>.getLegacyIndex(el,_42);<b>if</b>(_51==-1||el!=_25[_51][0]){_51=_25.length;_29[el.id+_42]=_51;_25[_51]=[el,_42,el[&quot;on&quot;+_42]];_26[_51]=[];el[&quot;on&quot;+_42]=<b>function</b>(e){YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(e),_51);};}_26[_51].push(li);}<b>else</b>{this._simpleAdd(el,_42,_47,false);}<b>return</b> true;},fireLegacyEvent:<b>function</b>(e,_52){<b>var</b> ok=true;<b>var</b> le=_26[_52];<b>for</b>(var i=0,len=le.length;i&lt;len;++i){<b>var</b> li=le[i];<b>if</b>(li&amp;&amp;li[<b>this</b>.WFN]){<b>var</b> _54=li[<b>this</b>.ADJ_SCOPE];<b>var</b> ret=li[<b>this</b>.WFN].call(_54,e);ok=(ok&amp;&amp;ret);}}<b>return</b> ok;},getLegacyIndex:<b>function</b>(el,_56){<b>var</b> key=<b>this</b>.generateId(el)+_56;<b>if</b>(typeof _29[key]==&quot;undefined&quot;){<b>return</b> -1;}<b>else</b>{return _29[key];}},useLegacyEvent:<b>function</b>(el,_58){<b>if</b>(!el.addEventListener&amp;&amp;!el.attachEvent){<b>return</b> true;}<b>else</b>{if(<b>this</b>.isSafari){<b>if</b>(&quot;click&quot;==_58||&quot;dblclick&quot;==_58){<b>return</b> true;}}}<b>return</b> false;},removeListener:<b>function</b>(el,_59,fn){<b>var</b> i,len;<b>if</b>(typeof el==&quot;string&quot;){el=<b>this</b>.getEl(el);}<b>else</b>{if(<b>this</b>._isValidCollection(el)){<b>var</b> ok=true;<b>for</b>(i=0,len=el.length;i&lt;len;++i){ok=(<b>this</b>.removeListener(el[i],_59,fn)&amp;&amp;ok);}<b>return</b> ok;}}<b>if</b>(!fn||!fn.call){<b>return</b> this.purgeElement(el,false,_59);}<b>if</b>(&quot;unload&quot;==_59){<b>for</b>(i=0,len=_24.length;i&lt;len;i++){<b>var</b> li=_24[i];<b>if</b>(li&amp;&amp;li[0]==el&amp;&amp;li[1]==_59&amp;&amp;li[2]==fn){_24.splice(i,1);<b>return</b> true;}}<b>return</b> false;}<b>var</b> _60=null;<b>var</b> _61=arguments[3];<b>if</b>(&quot;undefined&quot;==<b>typeof</b> _61){_61=<b>this</b>._getCacheIndex(el,_59,fn);}<b>if</b>(_61&gt;=0){_60=_23[_61];}<b>if</b>(!el||!_60){<b>return</b> false;}<b>if</b>(this.useLegacyEvent(el,_59)){<b>var</b> _62=<b>this</b>.getLegacyIndex(el,_59);<b>var</b> _63=_26[_62];<b>if</b>(_63){<b>for</b>(i=0,len=_63.length;i&lt;len;++i){li=_63[i];<b>if</b>(li&amp;&amp;li[<b>this</b>.EL]==el&amp;&amp;li[<b>this</b>.TYPE]==_59&amp;&amp;li[<b>this</b>.FN]==fn){_63.splice(i,1);}}}}<b>else</b>{this._simpleRemove(el,_59,_60[<b>this</b>.WFN],false);}<b>delete</b> _23[_61][<b>this</b>.WFN];<b>delete</b> _23[_61][<b>this</b>.FN];_23.splice(_61,1);<b>return</b> true;},getTarget:<b>function</b>(ev,_65){<b>var</b> t=ev.target||ev.srcElement;<b>return</b> this.resolveTextNode(t);},resolveTextNode:<b>function</b>(_67){<b>if</b>(_67&amp;&amp;3==_67.nodeType){<b>return</b> _67.parentNode;}<b>else</b>{return _67;}},getPageX:<b>function</b>(ev){<b>var</b> x=ev.pageX;<b>if</b>(!x&amp;&amp;0!==x){x=ev.clientX||0;<b>if</b>(this.isIE){x+=<b>this</b>._getScrollLeft();}}<b>return</b> x;},getPageY:<b>function</b>(ev){<b>var</b> y=ev.pageY;<b>if</b>(!y&amp;&amp;0!==y){y=ev.clientY||0;<b>if</b>(this.isIE){y+=<b>this</b>._getScrollTop();}}<b>return</b> y;},getXY:<b>function</b>(ev){<b>return</b> [<b>this</b>.getPageX(ev),<b>this</b>.getPageY(ev)];},getRelatedTarget:<b>function</b>(ev){<b>var</b> t=ev.relatedTarget;<b>if</b>(!t){<b>if</b>(ev.type==&quot;mouseout&quot;){t=ev.toElement;}<b>else</b>{if(ev.type==&quot;mouseover&quot;){t=ev.fromElement;}}}<b>return</b> this.resolveTextNode(t);},getTime:<b>function</b>(ev){<b>if</b>(!ev.time){<b>var</b> t=<b>new</b> Date().getTime();try{ev.time=t;}catch(e){<b>return</b> t;}}<b>return</b> ev.time;},stopEvent:<b>function</b>(ev){<b>this</b>.stopPropagation(ev);<b>this</b>.preventDefault(ev);},stopPropagation:<b>function</b>(ev){<b>if</b>(ev.stopPropagation){ev.stopPropagation();}<b>else</b>{ev.cancelBubble=true;}},preventDefault:<b>function</b>(ev){<b>if</b>(ev.preventDefault){ev.preventDefault();}<b>else</b>{ev.returnValue=false;}},getEvent:<b>function</b>(e){<b>var</b> ev=e||window.event;<b>if</b>(!ev){<b>var</b> c=<b>this</b>.getEvent.caller;<b>while</b>(c){ev=c.arguments[0];<b>if</b>(ev&amp;&amp;Event==ev.constructor){<b>break</b>;}c=c.caller;}}<b>return</b> ev;},getCharCode:<b>function</b>(ev){<b>return</b> ev.charCode||ev.keyCode||0;},_getCacheIndex:<b>function</b>(el,_71,fn){<b>for</b>(var i=0,len=_23.length;i&lt;len;++i){<b>var</b> li=_23[i];<b>if</b>(li&amp;&amp;li[<b>this</b>.FN]==fn&amp;&amp;li[<b>this</b>.EL]==el&amp;&amp;li[<b>this</b>.TYPE]==_71){<b>return</b> i;}}<b>return</b> -1;},generateId:<b>function</b>(el){<b>var</b> id=el.id;<b>if</b>(!id){id=&quot;yuievtautoid-&quot;+_30;++_30;el.id=id;}<b>return</b> id;},_isValidCollection:<b>function</b>(o){<b>return</b> (o&amp;&amp;o.length&amp;&amp;<b>typeof</b> o!=&quot;string&quot;&amp;&amp;!o.tagName&amp;&amp;!o.alert&amp;&amp;<b>typeof</b> o[0]!=&quot;undefined&quot;);},elCache:{},getEl:<b>function</b>(id){<b>return</b> document.getElementById(id);},clearCache:<b>function</b>(){},_load:<b>function</b>(e){_22=true;<b>var</b> EU=YAHOO.util.Event;<b>if</b>(this.isIE){EU._simpleRemove(window,&quot;load&quot;,EU._load);}},_tryPreloadAttach:<b>function</b>(){<b>if</b>(this.locked){<b>return</b> false;}<b>this</b>.locked=true;<b>var</b> _75=!_22;<b>if</b>(!_75){_75=(_27&gt;0);}<b>var</b> _76=[];<b>for</b>(var i=0,len=_28.length;i&lt;len;++i){<b>var</b> _77=_28[i];<b>if</b>(_77){<b>var</b> el=<b>this</b>.getEl(_77.id);<b>if</b>(el){<b>if</b>(!_77.checkReady||_22||el.nextSibling||(document&amp;&amp;document.body)){<b>var</b> _78=el;<b>if</b>(_77.override){<b>if</b>(_77.override===true){_78=_77.obj;}<b>else</b>{_78=_77.override;}}_77.fn.call(_78,_77.obj);<b>delete</b> _28[i];}}<b>else</b>{_76.push(_77);}}}_27=(_76.length===0)?0:_27-1;<b>if</b>(_75){<b>this</b>.startInterval();}<b>else</b>{clearInterval(<b>this</b>._interval);<b>this</b>._interval=null;}<b>this</b>.locked=false;<b>return</b> true;},purgeElement:<b>function</b>(el,_79,_80){<b>var</b> _81=<b>this</b>.getListeners(el,_80);<b>if</b>(_81){<b>for</b>(var i=0,len=_81.length;i&lt;len;++i){<b>var</b> l=_81[i];<b>this</b>.removeListener(el,l.type,l.fn);}}<b>if</b>(_79&amp;&amp;el&amp;&amp;el.childNodes){<b>for</b>(i=0,len=el.childNodes.length;i&lt;len;++i){<b>this</b>.purgeElement(el.childNodes[i],_79,_80);}}},getListeners:<b>function</b>(el,_83){<b>var</b> _84=[];<b>if</b>(_23&amp;&amp;_23.length&gt;0){<b>for</b>(var i=0,len=_23.length;i&lt;len;++i){<b>var</b> l=_23[i];<b>if</b>(l&amp;&amp;l[<b>this</b>.EL]===el&amp;&amp;(!_83||_83===l[<b>this</b>.TYPE])){_84.push({type:l[<b>this</b>.TYPE],fn:l[<b>this</b>.FN],obj:l[<b>this</b>.OBJ],adjust:l[<b>this</b>.ADJ_SCOPE],index:i});}}}<b>return</b> (_84.length)?_84:null;},_unload:<b>function</b>(e){<b>var</b> EU=YAHOO.util.Event,i,j,l,len,index;<b>for</b>(i=0,len=_24.length;i&lt;len;++i){l=_24[i];<b>if</b>(l){<b>var</b> _85=window;<b>if</b>(l[EU.ADJ_SCOPE]){<b>if</b>(l[EU.ADJ_SCOPE]===true){_85=l[EU.OBJ];}<b>else</b>{_85=l[EU.ADJ_SCOPE];}}l[EU.FN].call(_85,EU.getEvent(e),l[EU.OBJ]);<b>delete</b> _24[i];l=null;_85=null;}}<b>if</b>(_23&amp;&amp;_23.length&gt;0){j=_23.length;<b>while</b>(j){index=j-1;l=_23[index];<b>if</b>(l){EU.removeListener(l[EU.EL],l[EU.TYPE],l[EU.FN],index);}j=j-1;}l=null;EU.clearCache();}<b>for</b>(i=0,len=_25.length;i&lt;len;++i){<b>delete</b> _25[i][0];<b>delete</b> _25[i];}EU._simpleRemove(window,&quot;unload&quot;,EU._unload);},_getScrollLeft:<b>function</b>(){<b>return</b> this._getScroll()[1];},_getScrollTop:<b>function</b>(){<b>return</b> this._getScroll()[0];},_getScroll:<b>function</b>(){<b>var</b> dd=document.documentElement,db=document.body;<b>if</b>(dd&amp;&amp;(dd.scrollTop||dd.scrollLeft)){<b>return</b> [dd.scrollTop,dd.scrollLeft];}<b>else</b>{if(db){<b>return</b> [db.scrollTop,db.scrollLeft];}<b>else</b>{return [0,0];}}},_simpleAdd:<b>function</b>(){<b>if</b>(window.addEventListener){<b>return</b> function(el,_87,fn,_88){el.addEventListener(_87,fn,(_88));};}<b>else</b>{if(window.attachEvent){<b>return</b> function(el,_89,fn,_90){el.attachEvent(&quot;on&quot;+_89,fn);};}<b>else</b>{return <b>function</b>(){};}}}(),_simpleRemove:<b>function</b>(){<b>if</b>(window.removeEventListener){<b>return</b> function(el,_91,fn,_92){el.removeEventListener(_91,fn,(_92));};}<b>else</b>{if(window.detachEvent){<b>return</b> function(el,_93,fn){el.detachEvent(&quot;on&quot;+_93,fn);};}<b>else</b>{return <b>function</b>(){};}}}()};}();(<b>function</b>(){<b>var</b> EU=YAHOO.util.Event;EU.on=EU.addListener;<b>if</b>(document&amp;&amp;document.body){EU._load();}<b>else</b>{EU._simpleAdd(window,&quot;load&quot;,EU._load);}EU._simpleAdd(window,&quot;unload&quot;,EU._unload);EU._tryPreloadAttach();})();}YAHOO.util.EventProvider=<b>function</b>(){};YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:<b>function</b>(_94,_95,_96,_97){<b>this</b>.__yui_events=<b>this</b>.__yui_events||{};<b>var</b> ce=<b>this</b>.__yui_events[_94];<b>if</b>(ce){ce.subscribe(_95,_96,_97);}<b>else</b>{this.__yui_subscribers=<b>this</b>.__yui_subscribers||{};<b>var</b> _99=<b>this</b>.__yui_subscribers;<b>if</b>(!_99[_94]){_99[_94]=[];}_99[_94].push({fn:_95,obj:_96,override:_97});}},unsubscribe:<b>function</b>(_100,p_fn,_102){<b>this</b>.__yui_events=<b>this</b>.__yui_events||{};<b>var</b> ce=<b>this</b>.__yui_events[_100];<b>if</b>(ce){<b>return</b> ce.unsubscribe(p_fn,_102);}<b>else</b>{return false;}},createEvent:<b>function</b>(_103,_104){<b>this</b>.__yui_events=<b>this</b>.__yui_events||{};<b>var</b> opts=_104||{};<b>var</b> _106=<b>this</b>.__yui_events;<b>if</b>(_106[_103]){}<b>else</b>{var _107=opts.scope||<b>this</b>;var _108=opts.silent||null;<b>var</b> ce=<b>new</b> YAHOO.util.CustomEvent(_103,_107,_108,YAHOO.util.CustomEvent.FLAT);_106[_103]=ce;<b>if</b>(opts.onSubscribeCallback){ce.subscribeEvent.subscribe(opts.onSubscribeCallback);}<b>this</b>.__yui_subscribers=<b>this</b>.__yui_subscribers||{};<b>var</b> qs=<b>this</b>.__yui_subscribers[_103];<b>if</b>(qs){<b>for</b>(var i=0;i&lt;qs.length;++i){ce.subscribe(qs[i].fn,qs[i].obj,qs[i].override);}}}<b>return</b> _106[_103];},fireEvent:<b>function</b>(_110,arg1,arg2,etc){<b>this</b>.__yui_events=<b>this</b>.__yui_events||{};<b>var</b> ce=<b>this</b>.__yui_events[_110];<b>if</b>(ce){<b>var</b> args=[];<b>for</b>(var i=1;i&lt;arguments.length;++i){args.push(arguments[i]);}<b>return</b> ce.fire.apply(ce,args);}<b>else</b>{return null;}},hasEvent:<b>function</b>(type){<b>if</b>(this.__yui_events){<b>if</b>(this.__yui_events[type]){<b>return</b> true;}}<b>return</b> false;}};YAHOO.util.Anim=<b>function</b>(el,attributes,duration,method){<b>if</b>(el){<b>this</b>.init(el,attributes,duration,method);}};YAHOO.util.Anim.prototype={toString:<b>function</b>(){<b>var</b> el=<b>this</b>.getEl();<b>var</b> id=el.id||el.tagName;<b>return</b>(&quot;Anim &quot;+id);},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|<b>in</b>|cm|mm|pc)$/i},doMethod:<b>function</b>(attr,start,end){<b>return</b> this.method(<b>this</b>.currentFrame,start,end-start,<b>this</b>.totalFrames);},setAttribute:<b>function</b>(attr,val,unit){<b>if</b>(this.patterns.noNegatives.test(attr)){val=(val&gt;0)?val:0;}YAHOO.util.Dom.setStyle(<b>this</b>.getEl(),attr,val+unit);},getAttribute:<b>function</b>(attr){<b>var</b> el=<b>this</b>.getEl();<b>var</b> val=YAHOO.util.Dom.getStyle(el,attr);<b>if</b>(val!=='auto'&amp;&amp;!<b>this</b>.patterns.offsetUnit.test(val)){<b>return</b> parseFloat(val);}<b>var</b> a=<b>this</b>.patterns.offsetAttribute.exec(attr)||[];<b>var</b> pos=!!(a[3]);<b>var</b> box=!!(a[2]);<b>if</b>(box||(YAHOO.util.Dom.getStyle(el,'position')=='absolute'&amp;&amp;pos)){val=el['offset'+a[0].charAt(0).toUpperCase()+a[0].substr(1)];}<b>else</b>{val=0;}<b>return</b> val;},getDefaultUnit:<b>function</b>(attr){<b>if</b>(this.patterns.defaultUnit.test(attr)){<b>return</b>'px';}<b>return</b>'';},setRuntimeAttribute:<b>function</b>(attr){<b>var</b> start;<b>var</b> end;<b>var</b> attributes=<b>this</b>.attributes;<b>this</b>.runtimeAttributes[attr]={};<b>var</b> isset=<b>function</b>(prop){<b>return</b>(typeof prop!=='undefined');};<b>if</b>(!isset(attributes[attr]['to'])&amp;&amp;!isset(attributes[attr]['by'])){<b>return</b> false;}start=(isset(attributes[attr]['from']))?attributes[attr]['from']:<b>this</b>.getAttribute(attr);<b>if</b>(isset(attributes[attr]['to'])){end=attributes[attr]['to'];}<b>else</b> if(isset(attributes[attr]['by'])){<b>if</b>(start.constructor==Array){end=[];<b>for</b>(var i=0,len=start.length;i&lt;len;++i){end[i]=start[i]+attributes[attr]['by'][i];}}<b>else</b>{end=start+attributes[attr]['by'];}}<b>this</b>.runtimeAttributes[attr].start=start;<b>this</b>.runtimeAttributes[attr].end=end;<b>this</b>.runtimeAttributes[attr].unit=(isset(attributes[attr].unit))?attributes[attr]['unit']:<b>this</b>.getDefaultUnit(attr);},init:<b>function</b>(el,attributes,duration,method){<b>var</b> isAnimated=false;<b>var</b> startTime=null;<b>var</b> actualFrames=0;el=YAHOO.util.Dom.get(el);<b>this</b>.attributes=attributes||{};<b>this</b>.duration=duration||1;<b>this</b>.method=method||YAHOO.util.Easing.easeNone;<b>this</b>.useSeconds=true;<b>this</b>.currentFrame=0;<b>this</b>.totalFrames=YAHOO.util.AnimMgr.fps;<b>this</b>.getEl=<b>function</b>(){<b>return</b> el;};<b>this</b>.isAnimated=<b>function</b>(){<b>return</b> isAnimated;};<b>this</b>.getStartTime=<b>function</b>(){<b>return</b> startTime;};<b>this</b>.runtimeAttributes={};<b>this</b>.animate=<b>function</b>(){<b>if</b>(this.isAnimated()){<b>return</b> false;}<b>this</b>.currentFrame=0;<b>this</b>.totalFrames=(<b>this</b>.useSeconds)?Math.ceil(YAHOO.util.AnimMgr.fps*<b>this</b>.duration):<b>this</b>.duration;YAHOO.util.AnimMgr.registerElement(<b>this</b>);};<b>this</b>.stop=<b>function</b>(finish){<b>if</b>(finish){<b>this</b>.currentFrame=<b>this</b>.totalFrames;<b>this</b>._onTween.fire();}YAHOO.util.AnimMgr.stop(<b>this</b>);};<b>var</b> onStart=<b>function</b>(){<b>this</b>.onStart.fire();<b>this</b>.runtimeAttributes={};<b>for</b>(var attr <b>in</b> this.attributes){<b>this</b>.setRuntimeAttribute(attr);}isAnimated=true;actualFrames=0;startTime=<b>new</b> Date();};<b>var</b> onTween=<b>function</b>(){<b>var</b> data={duration:<b>new</b> Date()-<b>this</b>.getStartTime(),currentFrame:<b>this</b>.currentFrame};data.toString=<b>function</b>(){<b>return</b>('duration: '+data.duration+', currentFrame: '+data.currentFrame);};<b>this</b>.onTween.fire(data);<b>var</b> runtimeAttributes=<b>this</b>.runtimeAttributes;<b>for</b>(var attr <b>in</b> runtimeAttributes){<b>this</b>.setAttribute(attr,<b>this</b>.doMethod(attr,runtimeAttributes[attr].start,runtimeAttributes[attr].end),runtimeAttributes[attr].unit);}actualFrames+=1;};<b>var</b> onComplete=<b>function</b>(){<b>var</b> actual_duration=(<b>new</b> Date()-startTime)/1000;<b>var</b> data={duration:actual_duration,frames:actualFrames,fps:actualFrames/actual_duration};data.toString=<b>function</b>(){<b>return</b>('duration: '+data.duration+', frames: '+data.frames+', fps: '+data.fps);};isAnimated=false;actualFrames=0;<b>this</b>.onComplete.fire(data);};<b>this</b>._onStart=<b>new</b> YAHOO.util.CustomEvent('_start',<b>this</b>,true);<b>this</b>.onStart=<b>new</b> YAHOO.util.CustomEvent('start',<b>this</b>);<b>this</b>.onTween=<b>new</b> YAHOO.util.CustomEvent('tween',<b>this</b>);<b>this</b>._onTween=<b>new</b> YAHOO.util.CustomEvent('_tween',<b>this</b>,true);<b>this</b>.onComplete=<b>new</b> YAHOO.util.CustomEvent('complete',<b>this</b>);<b>this</b>._onComplete=<b>new</b> YAHOO.util.CustomEvent('_complete',<b>this</b>,true);<b>this</b>._onStart.subscribe(onStart);<b>this</b>._onTween.subscribe(onTween);<b>this</b>._onComplete.subscribe(onComplete);}};YAHOO.util.AnimMgr=<b>new</b> function(){<b>var</b> thread=null;<b>var</b> queue=[];<b>var</b> tweenCount=0;<b>this</b>.fps=200;<b>this</b>.delay=1;<b>this</b>.registerElement=<b>function</b>(tween){queue[queue.length]=tween;tweenCount+=1;tween._onStart.fire();<b>this</b>.start();};<b>this</b>.unRegister=<b>function</b>(tween,index){tween._onComplete.fire();index=index||getIndex(tween);<b>if</b>(index!=-1){queue.splice(index,1);}tweenCount-=1;<b>if</b>(tweenCount&lt;=0){<b>this</b>.stop();}};<b>this</b>.start=<b>function</b>(){<b>if</b>(thread===null){thread=setInterval(<b>this</b>.run,<b>this</b>.delay);}};<b>this</b>.stop=<b>function</b>(tween){<b>if</b>(!tween){clearInterval(thread);<b>for</b>(var i=0,len=queue.length;i&lt;len;++i){<b>if</b>(queue[i].isAnimated()){<b>this</b>.unRegister(tween,i);}}queue=[];thread=null;tweenCount=0;}<b>else</b>{this.unRegister(tween);}};<b>this</b>.run=<b>function</b>(){<b>for</b>(var i=0,len=queue.length;i&lt;len;++i){<b>var</b> tween=queue[i];<b>if</b>(!tween||!tween.isAnimated()){<b>continue</b>;}<b>if</b>(tween.currentFrame&lt;tween.totalFrames||tween.totalFrames===null){tween.currentFrame+=1;<b>if</b>(tween.useSeconds){correctFrame(tween);}tween._onTween.fire();}<b>else</b>{YAHOO.util.AnimMgr.stop(tween,i);}}};<b>var</b> getIndex=<b>function</b>(anim){<b>for</b>(var i=0,len=queue.length;i&lt;len;++i){<b>if</b>(queue[i]==anim){<b>return</b> i;}}<b>return</b>-1;};<b>var</b> correctFrame=<b>function</b>(tween){<b>var</b> frames=tween.totalFrames;<b>var</b> frame=tween.currentFrame;<b>var</b> expected=(tween.currentFrame*tween.duration*1000/tween.totalFrames);<b>var</b> elapsed=(<b>new</b> Date()-tween.getStartTime());<b>var</b> tweak=0;<b>if</b>(elapsed&lt;tween.duration*1000){tweak=Math.round((elapsed/expected-1)*tween.currentFrame);}<b>else</b>{tweak=frames-(frame+1);}<b>if</b>(tweak&gt;0&amp;&amp;isFinite(tweak)){<b>if</b>(tween.currentFrame+tweak&gt;=frames){tweak=frames-(frame+1);}tween.currentFrame+=tweak;}};};YAHOO.util.Bezier=<b>new</b> function(){<b>this</b>.getPosition=<b>function</b>(points,t){<b>var</b> n=points.length;<b>var</b> tmp=[];<b>for</b>(var i=0;i&lt;n;++i){tmp[i]=[points[i][0],points[i][1]];}<b>for</b>(var j=1;j&lt;n;++j){<b>for</b>(i=0;i&lt;n-j;++i){tmp[i][0]=(1-t)*tmp[i][0]+t*tmp[parseInt(i+1,10)][0];tmp[i][1]=(1-t)*tmp[i][1]+t*tmp[parseInt(i+1,10)][1];}}<b>return</b>[tmp[0][0],tmp[0][1]];};};(<b>function</b>(){YAHOO.util.ColorAnim=<b>function</b>(el,attributes,duration,method){YAHOO.util.ColorAnim.superclass.constructor.call(<b>this</b>,el,attributes,duration,method);};YAHOO.extend(YAHOO.util.ColorAnim,YAHOO.util.Anim);<b>var</b> Y=YAHOO.util;<b>var</b> superclass=Y.ColorAnim.superclass;<b>var</b> proto=Y.ColorAnim.prototype;proto.toString=<b>function</b>(){<b>var</b> el=<b>this</b>.getEl();<b>var</b> id=el.id||el.tagName;<b>return</b>(&quot;ColorAnim &quot;+id);};proto.patterns.color=/color$/i;proto.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;proto.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;proto.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;proto.patterns.transparent=/^transparent|rgba\(0, 0, 0, 0\)$/;proto.parseColor=<b>function</b>(s){<b>if</b>(s.length==3){<b>return</b> s;}<b>var</b> c=<b>this</b>.patterns.hex.exec(s);<b>if</b>(c&amp;&amp;c.length==4){<b>return</b>[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)];}c=<b>this</b>.patterns.rgb.exec(s);<b>if</b>(c&amp;&amp;c.length==4){<b>return</b>[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)];}c=<b>this</b>.patterns.hex3.exec(s);<b>if</b>(c&amp;&amp;c.length==4){<b>return</b>[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)];}<b>return</b> null;};proto.getAttribute=<b>function</b>(attr){<b>var</b> el=<b>this</b>.getEl();<b>if</b>(this.patterns.color.test(attr)){<b>var</b> val=YAHOO.util.Dom.getStyle(el,attr);<b>if</b>(this.patterns.transparent.test(val)){<b>var</b> parent=el.parentNode;val=Y.Dom.getStyle(parent,attr);<b>while</b>(parent&amp;&amp;<b>this</b>.patterns.transparent.test(val)){parent=parent.parentNode;val=Y.Dom.getStyle(parent,attr);<b>if</b>(parent.tagName.toUpperCase()=='HTML'){val='#fff';}}}}<b>else</b>{val=superclass.getAttribute.call(<b>this</b>,attr);}<b>return</b> val;};proto.doMethod=<b>function</b>(attr,start,end){<b>var</b> val;<b>if</b>(this.patterns.color.test(attr)){val=[];<b>for</b>(var i=0,len=start.length;i&lt;len;++i){val[i]=superclass.doMethod.call(<b>this</b>,attr,start[i],end[i]);}val='rgb('+Math.floor(val[0])+','+Math.floor(val[1])+','+Math.floor(val[2])+')';}<b>else</b>{val=superclass.doMethod.call(<b>this</b>,attr,start,end);}<b>return</b> val;};proto.setRuntimeAttribute=<b>function</b>(attr){superclass.setRuntimeAttribute.call(<b>this</b>,attr);<b>if</b>(this.patterns.color.test(attr)){<b>var</b> attributes=<b>this</b>.attributes;<b>var</b> start=<b>this</b>.parseColor(<b>this</b>.runtimeAttributes[attr].start);<b>var</b> end=<b>this</b>.parseColor(<b>this</b>.runtimeAttributes[attr].end);<b>if</b>(typeof attributes[attr]['to']==='undefined'&amp;&amp;<b>typeof</b> attributes[attr]['by']!=='undefined'){end=<b>this</b>.parseColor(attributes[attr].by);<b>for</b>(var i=0,len=start.length;i&lt;len;++i){end[i]=start[i]+end[i];}}<b>this</b>.runtimeAttributes[attr].start=start;<b>this</b>.runtimeAttributes[attr].end=end;}};})();YAHOO.util.Easing={easeNone:<b>function</b>(t,b,c,d){<b>return</b> c*t/d+b;},easeIn:<b>function</b>(t,b,c,d){<b>return</b> c*(t/=d)*t+b;},easeOut:<b>function</b>(t,b,c,d){<b>return</b>-c*(t/=d)*(t-2)+b;},easeBoth:<b>function</b>(t,b,c,d){<b>if</b>((t/=d/2)&lt;1)<b>return</b> c/2*t*t+b;<b>return</b>-c/2*((--t)*(t-2)-1)+b;},easeInStrong:<b>function</b>(t,b,c,d){<b>return</b> c*(t/=d)*t*t*t+b;},easeOutStrong:<b>function</b>(t,b,c,d){<b>return</b>-c*((t=t/d-1)*t*t*t-1)+b;},easeBothStrong:<b>function</b>(t,b,c,d){<b>if</b>((t/=d/2)&lt;1)<b>return</b> c/2*t*t*t*t+b;<b>return</b>-c/2*((t-=2)*t*t*t-2)+b;},elasticIn:<b>function</b>(t,b,c,d,a,p){<b>if</b>(t==0)<b>return</b> b;<b>if</b>((t/=d)==1)<b>return</b> b+c;<b>if</b>(!p)p=d*.3;<b>if</b>(!a||a&lt;Math.abs(c)){a=c;<b>var</b> s=p/4;}<b>else</b> var s=p/(2*Math.PI)*Math.asin(c/a);<b>return</b>-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},elasticOut:<b>function</b>(t,b,c,d,a,p){<b>if</b>(t==0)<b>return</b> b;<b>if</b>((t/=d)==1)<b>return</b> b+c;<b>if</b>(!p)p=d*.3;<b>if</b>(!a||a&lt;Math.abs(c)){a=c;<b>var</b> s=p/4;}<b>else</b> var s=p/(2*Math.PI)*Math.asin(c/a);<b>return</b> a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},elasticBoth:<b>function</b>(t,b,c,d,a,p){<b>if</b>(t==0)<b>return</b> b;<b>if</b>((t/=d/2)==2)<b>return</b> b+c;<b>if</b>(!p)p=d*(.3*1.5);<b>if</b>(!a||a&lt;Math.abs(c)){a=c;<b>var</b> s=p/4;}<b>else</b> var s=p/(2*Math.PI)*Math.asin(c/a);<b>if</b>(t&lt;1)<b>return</b>-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;<b>return</b> a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},backIn:<b>function</b>(t,b,c,d,s){<b>if</b>(typeof s=='undefined')s=1.70158;<b>return</b> c*(t/=d)*t*((s+1)*t-s)+b;},backOut:<b>function</b>(t,b,c,d,s){<b>if</b>(typeof s=='undefined')s=1.70158;<b>return</b> c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},backBoth:<b>function</b>(t,b,c,d,s){<b>if</b>(typeof s=='undefined')s=1.70158;<b>if</b>((t/=d/2)&lt;1)<b>return</b> c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;<b>return</b> c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},bounceIn:<b>function</b>(t,b,c,d){<b>return</b> c-YAHOO.util.Easing.bounceOut(d-t,0,c,d)+b;},bounceOut:<b>function</b>(t,b,c,d){<b>if</b>((t/=d)&lt;(1/2.75)){<b>return</b> c*(7.5625*t*t)+b;}<b>else</b> if(t&lt;(2/2.75)){<b>return</b> c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}<b>else</b> if(t&lt;(2.5/2.75)){<b>return</b> c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}<b>else</b>{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},bounceBoth:<b>function</b>(t,b,c,d){<b>if</b>(t&lt;d/2)<b>return</b> YAHOO.util.Easing.bounceIn(t*2,0,c,d)*.5+b;<b>return</b> YAHOO.util.Easing.bounceOut(t*2-d,0,c,d)*.5+c*.5+b;}};(<b>function</b>(){YAHOO.util.Motion=<b>function</b>(el,attributes,duration,method){<b>if</b>(el){YAHOO.util.Motion.superclass.constructor.call(<b>this</b>,el,attributes,duration,method);}};YAHOO.extend(YAHOO.util.Motion,YAHOO.util.ColorAnim);<b>var</b> Y=YAHOO.util;<b>var</b> superclass=Y.Motion.superclass;<b>var</b> proto=Y.Motion.prototype;proto.toString=<b>function</b>(){<b>var</b> el=<b>this</b>.getEl();<b>var</b> id=el.id||el.tagName;<b>return</b>(&quot;Motion &quot;+id);};proto.patterns.points=/^points$/i;proto.setAttribute=<b>function</b>(attr,val,unit){<b>if</b>(this.patterns.points.test(attr)){unit=unit||'px';superclass.setAttribute.call(<b>this</b>,'left',val[0],unit);superclass.setAttribute.call(<b>this</b>,'top',val[1],unit);}<b>else</b>{superclass.setAttribute.call(<b>this</b>,attr,val,unit);}};proto.getAttribute=<b>function</b>(attr){<b>if</b>(this.patterns.points.test(attr)){<b>var</b> val=[superclass.getAttribute.call(<b>this</b>,'left'),superclass.getAttribute.call(<b>this</b>,'top')];}<b>else</b>{val=superclass.getAttribute.call(<b>this</b>,attr);}<b>return</b> val;};proto.doMethod=<b>function</b>(attr,start,end){<b>var</b> val=null;<b>if</b>(this.patterns.points.test(attr)){<b>var</b> t=<b>this</b>.method(<b>this</b>.currentFrame,0,100,<b>this</b>.totalFrames)/100;val=Y.Bezier.getPosition(<b>this</b>.runtimeAttributes[attr],t);}<b>else</b>{val=superclass.doMethod.call(<b>this</b>,attr,start,end);}<b>return</b> val;};proto.setRuntimeAttribute=<b>function</b>(attr){<b>if</b>(this.patterns.points.test(attr)){<b>var</b> el=<b>this</b>.getEl();<b>var</b> attributes=<b>this</b>.attributes;<b>var</b> start;<b>var</b> control=attributes['points']['control']||[];<b>var</b> end;<b>var</b> i,len;<b>if</b>(control.length&gt;0&amp;&amp;!(control[0]instanceof Array)){control=[control];}<b>else</b>{var tmp=[];<b>for</b>(i=0,len=control.length;i&lt;len;++i){tmp[i]=control[i];}control=tmp;}<b>if</b>(Y.Dom.getStyle(el,'position')=='static'){Y.Dom.setStyle(el,'position','relative');}<b>if</b>(isset(attributes['points']['from'])){Y.Dom.setXY(el,attributes['points']['from']);}<b>else</b>{Y.Dom.setXY(el,Y.Dom.getXY(el));}start=<b>this</b>.getAttribute('points');<b>if</b>(isset(attributes['points']['to'])){end=translateValues.call(<b>this</b>,attributes['points']['to'],start);<b>var</b> pageXY=Y.Dom.getXY(<b>this</b>.getEl());<b>for</b>(i=0,len=control.length;i&lt;len;++i){control[i]=translateValues.call(<b>this</b>,control[i],start);}}<b>else</b> if(isset(attributes['points']['by'])){end=[start[0]+attributes['points']['by'][0],start[1]+attributes['points']['by'][1]];<b>for</b>(i=0,len=control.length;i&lt;len;++i){control[i]=[start[0]+control[i][0],start[1]+control[i][1]];}}<b>this</b>.runtimeAttributes[attr]=[start];<b>if</b>(control.length&gt;0){<b>this</b>.runtimeAttributes[attr]=<b>this</b>.runtimeAttributes[attr].concat(control);}<b>this</b>.runtimeAttributes[attr][<b>this</b>.runtimeAttributes[attr].length]=end;}<b>else</b>{superclass.setRuntimeAttribute.call(<b>this</b>,attr);}};<b>var</b> translateValues=<b>function</b>(val,start){<b>var</b> pageXY=Y.Dom.getXY(<b>this</b>.getEl());val=[val[0]-pageXY[0]+start[0],val[1]-pageXY[1]+start[1]];<b>return</b> val;};<b>var</b> isset=<b>function</b>(prop){<b>return</b>(typeof prop!=='undefined');};})();(<b>function</b>(){YAHOO.util.Scroll=<b>function</b>(el,attributes,duration,method){<b>if</b>(el){YAHOO.util.Scroll.superclass.constructor.call(<b>this</b>,el,attributes,duration,method);}};YAHOO.extend(YAHOO.util.Scroll,YAHOO.util.ColorAnim);<b>var</b> Y=YAHOO.util;<b>var</b> superclass=Y.Scroll.superclass;<b>var</b> proto=Y.Scroll.prototype;proto.toString=<b>function</b>(){<b>var</b> el=<b>this</b>.getEl();<b>var</b> id=el.id||el.tagName;<b>return</b>(&quot;Scroll &quot;+id);};proto.doMethod=<b>function</b>(attr,start,end){<b>var</b> val=null;<b>if</b>(attr=='scroll'){val=[<b>this</b>.method(<b>this</b>.currentFrame,start[0],end[0]-start[0],<b>this</b>.totalFrames),<b>this</b>.method(<b>this</b>.currentFrame,start[1],end[1]-start[1],<b>this</b>.totalFrames)];}<b>else</b>{val=superclass.doMethod.call(<b>this</b>,attr,start,end);}<b>return</b> val;};proto.getAttribute=<b>function</b>(attr){<b>var</b> val=null;<b>var</b> el=<b>this</b>.getEl();<b>if</b>(attr=='scroll'){val=[el.scrollLeft,el.scrollTop];}<b>else</b>{val=superclass.getAttribute.call(<b>this</b>,attr);}<b>return</b> val;};proto.setAttribute=<b>function</b>(attr,val,unit){<b>var</b> el=<b>this</b>.getEl();<b>if</b>(attr=='scroll'){el.scrollLeft=val[0];el.scrollTop=val[1];}<b>else</b>{superclass.setAttribute.call(<b>this</b>,attr,val,unit);}};})();(<b>function</b>(){<b>var</b> _1=YAHOO.util.Event;<b>var</b> _2=YAHOO.util.Dom;YAHOO.util.DragDrop=<b>function</b>(id,_4,_5){<b>if</b>(id){<b>this</b>.init(id,_4,_5);}};YAHOO.util.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:<b>function</b>(){<b>this</b>.locked=true;},unlock:<b>function</b>(){<b>this</b>.locked=false;},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:<b>function</b>(x,y){},startDrag:<b>function</b>(x,y){},b4Drag:<b>function</b>(e){},onDrag:<b>function</b>(e){},onDragEnter:<b>function</b>(e,id){},b4DragOver:<b>function</b>(e){},onDragOver:<b>function</b>(e,id){},b4DragOut:<b>function</b>(e){},onDragOut:<b>function</b>(e,id){},b4DragDrop:<b>function</b>(e){},onDragDrop:<b>function</b>(e,id){},onInvalidDrop:<b>function</b>(e){},b4EndDrag:<b>function</b>(e){},endDrag:<b>function</b>(e){},b4MouseDown:<b>function</b>(e){},onMouseDown:<b>function</b>(e){},onMouseUp:<b>function</b>(e){},onAvailable:<b>function</b>(){},getEl:<b>function</b>(){<b>if</b>(!<b>this</b>._domRef){<b>this</b>._domRef=_2.get(<b>this</b>.id);}<b>return</b> this._domRef;},getDragEl:<b>function</b>(){<b>return</b> _2.get(<b>this</b>.dragElId);},init:<b>function</b>(id,_9,_10){<b>this</b>.initTarget(id,_9,_10);_1.on(<b>this</b>.id,&quot;mousedown&quot;,<b>this</b>.handleMouseDown,<b>this</b>,true);},initTarget:<b>function</b>(id,_11,_12){<b>this</b>.config=_12||{};<b>this</b>.DDM=YAHOO.util.DDM;<b>this</b>.groups={};<b>if</b>(typeof id!==&quot;string&quot;){YAHOO.log(&quot;id is not a string, assuming it is an HTMLElement&quot;);id=_2.generateId(id);}<b>this</b>.id=id;<b>this</b>.addToGroup((_11)?_11:&quot;<b>default</b>&quot;);<b>this</b>.handleElId=id;_1.onAvailable(id,<b>this</b>.handleOnAvailable,<b>this</b>,true);<b>this</b>.setDragElId(id);<b>this</b>.invalidHandleTypes={A:&quot;A&quot;};<b>this</b>.invalidHandleIds={};<b>this</b>.invalidHandleClasses=[];<b>this</b>.applyConfig();},applyConfig:<b>function</b>(){<b>this</b>.padding=<b>this</b>.config.padding||[0,0,0,0];<b>this</b>.isTarget=(<b>this</b>.config.isTarget!==false);<b>this</b>.maintainOffset=(<b>this</b>.config.maintainOffset);<b>this</b>.primaryButtonOnly=(<b>this</b>.config.primaryButtonOnly!==false);},handleOnAvailable:<b>function</b>(){<b>this</b>.available=true;<b>this</b>.resetConstraints();<b>this</b>.onAvailable();},setPadding:<b>function</b>(_13,_14,_15,_16){<b>if</b>(!_14&amp;&amp;0!==_14){<b>this</b>.padding=[_13,_13,_13,_13];}<b>else</b>{if(!_15&amp;&amp;0!==_15){<b>this</b>.padding=[_13,_14,_13,_14];}<b>else</b>{this.padding=[_13,_14,_15,_16];}}},setInitPosition:<b>function</b>(_17,_18){<b>var</b> el=<b>this</b>.getEl();<b>if</b>(!<b>this</b>.DDM.verifyEl(el)){<b>return</b>;}<b>var</b> dx=_17||0;<b>var</b> dy=_18||0;<b>var</b> p=_2.getXY(el);<b>this</b>.initPageX=p[0]-dx;<b>this</b>.initPageY=p[1]-dy;<b>this</b>.lastPageX=p[0];<b>this</b>.lastPageY=p[1];<b>this</b>.setStartPosition(p);},setStartPosition:<b>function</b>(pos){<b>var</b> p=pos||_2.getXY(<b>this</b>.getEl());<b>this</b>.deltaSetXY=null;<b>this</b>.startPageX=p[0];<b>this</b>.startPageY=p[1];},addToGroup:<b>function</b>(_24){<b>this</b>.groups[_24]=true;<b>this</b>.DDM.regDragDrop(<b>this</b>,_24);},removeFromGroup:<b>function</b>(_25){<b>if</b>(this.groups[_25]){<b>delete</b> this.groups[_25];}<b>this</b>.DDM.removeDDFromGroup(<b>this</b>,_25);},setDragElId:<b>function</b>(id){<b>this</b>.dragElId=id;},setHandleElId:<b>function</b>(id){<b>if</b>(typeof id!==&quot;string&quot;){YAHOO.log(&quot;id is not a string, assuming it is an HTMLElement&quot;);id=_2.generateId(id);}<b>this</b>.handleElId=id;<b>this</b>.DDM.regHandle(<b>this</b>.id,id);},setOuterHandleElId:<b>function</b>(id){<b>if</b>(typeof id!==&quot;string&quot;){YAHOO.log(&quot;id is not a string, assuming it is an HTMLElement&quot;);id=_2.generateId(id);}_1.on(id,&quot;mousedown&quot;,<b>this</b>.handleMouseDown,<b>this</b>,true);<b>this</b>.setHandleElId(id);<b>this</b>.hasOuterHandles=true;},unreg:<b>function</b>(){_1.removeListener(<b>this</b>.id,&quot;mousedown&quot;,<b>this</b>.handleMouseDown);<b>this</b>._domRef=null;<b>this</b>.DDM._remove(<b>this</b>);},isLocked:<b>function</b>(){<b>return</b> (<b>this</b>.DDM.isLocked()||<b>this</b>.locked);},handleMouseDown:<b>function</b>(e,oDD){<b>var</b> _27=e.which||e.button;<b>if</b>(this.primaryButtonOnly&amp;&amp;_27&gt;1){<b>return</b>;}<b>if</b>(this.isLocked()){<b>return</b>;}<b>this</b>.DDM.refreshCache(<b>this</b>.groups);<b>var</b> pt=<b>new</b> YAHOO.util.Point(_1.getPageX(e),_1.getPageY(e));<b>if</b>(!<b>this</b>.hasOuterHandles&amp;&amp;!<b>this</b>.DDM.isOverTarget(pt,<b>this</b>)){}<b>else</b>{if(<b>this</b>.clickValidator(e)){<b>this</b>.setStartPosition();<b>this</b>.b4MouseDown(e);<b>this</b>.onMouseDown(e);<b>this</b>.DDM.handleMouseDown(e,<b>this</b>);<b>this</b>.DDM.stopEvent(e);}<b>else</b>{}}},clickValidator:<b>function</b>(e){<b>var</b> _29=_1.getTarget(e);<b>return</b> (<b>this</b>.isValidHandleChild(_29)&amp;&amp;(<b>this</b>.id==<b>this</b>.handleElId||<b>this</b>.DDM.handleWasClicked(_29,<b>this</b>.id)));},addInvalidHandleType:<b>function</b>(_30){<b>var</b> _31=_30.toUpperCase();<b>this</b>.invalidHandleTypes[_31]=_31;},addInvalidHandleId:<b>function</b>(id){<b>if</b>(typeof id!==&quot;string&quot;){YAHOO.log(&quot;id is not a string, assuming it is an HTMLElement&quot;);id=_2.generateId(id);}<b>this</b>.invalidHandleIds[id]=id;},addInvalidHandleClass:<b>function</b>(_32){<b>this</b>.invalidHandleClasses.push(_32);},removeInvalidHandleType:<b>function</b>(_33){<b>var</b> _34=_33.toUpperCase();<b>delete</b> this.invalidHandleTypes[_34];},removeInvalidHandleId:<b>function</b>(id){<b>if</b>(typeof id!==&quot;string&quot;){YAHOO.log(&quot;id is not a string, assuming it is an HTMLElement&quot;);id=_2.generateId(id);}<b>delete</b> this.invalidHandleIds[id];},removeInvalidHandleClass:<b>function</b>(_35){<b>for</b>(var i=0,len=<b>this</b>.invalidHandleClasses.length;i&lt;len;++i){<b>if</b>(this.invalidHandleClasses[i]==_35){<b>delete</b> this.invalidHandleClasses[i];}}},isValidHandleChild:<b>function</b>(_37){<b>var</b> _38=true;<b>var</b> _39;try{_39=_37.nodeName.toUpperCase();}catch(e){_39=_37.nodeName;}_38=_38&amp;&amp;!<b>this</b>.invalidHandleTypes[_39];_38=_38&amp;&amp;!<b>this</b>.invalidHandleIds[_37.id];<b>for</b>(var i=0,len=<b>this</b>.invalidHandleClasses.length;_38&amp;&amp;i&lt;len;++i){_38=!_2.hasClass(_37,<b>this</b>.invalidHandleClasses[i]);}<b>return</b> _38;},setXTicks:<b>function</b>(_40,_41){<b>this</b>.xTicks=[];<b>this</b>.xTickSize=_41;<b>var</b> _42={};<b>for</b>(var i=<b>this</b>.initPageX;i&gt;=<b>this</b>.minX;i=i-_41){<b>if</b>(!_42[i]){<b>this</b>.xTicks[<b>this</b>.xTicks.length]=i;_42[i]=true;}}<b>for</b>(i=<b>this</b>.initPageX;i&lt;=<b>this</b>.maxX;i=i+_41){<b>if</b>(!_42[i]){<b>this</b>.xTicks[<b>this</b>.xTicks.length]=i;_42[i]=true;}}<b>this</b>.xTicks.sort(<b>this</b>.DDM.numericSort);},setYTicks:<b>function</b>(_43,_44){<b>this</b>.yTicks=[];<b>this</b>.yTickSize=_44;<b>var</b> _45={};<b>for</b>(var i=<b>this</b>.initPageY;i&gt;=<b>this</b>.minY;i=i-_44){<b>if</b>(!_45[i]){<b>this</b>.yTicks[<b>this</b>.yTicks.length]=i;_45[i]=true;}}<b>for</b>(i=<b>this</b>.initPageY;i&lt;=<b>this</b>.maxY;i=i+_44){<b>if</b>(!_45[i]){<b>this</b>.yTicks[<b>this</b>.yTicks.length]=i;_45[i]=true;}}<b>this</b>.yTicks.sort(<b>this</b>.DDM.numericSort);},setXConstraint:<b>function</b>(_46,_47,_48){<b>this</b>.leftConstraint=_46;<b>this</b>.rightConstraint=_47;<b>this</b>.minX=<b>this</b>.initPageX-_46;<b>this</b>.maxX=<b>this</b>.initPageX+_47;<b>if</b>(_48){<b>this</b>.setXTicks(<b>this</b>.initPageX,_48);}<b>this</b>.constrainX=true;},clearConstraints:<b>function</b>(){<b>this</b>.constrainX=false;<b>this</b>.constrainY=false;<b>this</b>.clearTicks();},clearTicks:<b>function</b>(){<b>this</b>.xTicks=null;<b>this</b>.yTicks=null;<b>this</b>.xTickSize=0;<b>this</b>.yTickSize=0;},setYConstraint:<b>function</b>(iUp,_50,_51){<b>this</b>.topConstraint=iUp;<b>this</b>.bottomConstraint=_50;<b>this</b>.minY=<b>this</b>.initPageY-iUp;<b>this</b>.maxY=<b>this</b>.initPageY+_50;<b>if</b>(_51){<b>this</b>.setYTicks(<b>this</b>.initPageY,_51);}<b>this</b>.constrainY=true;},resetConstraints:<b>function</b>(){<b>if</b>(this.initPageX||<b>this</b>.initPageX===0){<b>var</b> dx=(<b>this</b>.maintainOffset)?<b>this</b>.lastPageX-<b>this</b>.initPageX:0;<b>var</b> dy=(<b>this</b>.maintainOffset)?<b>this</b>.lastPageY-<b>this</b>.initPageY:0;<b>this</b>.setInitPosition(dx,dy);}<b>else</b>{this.setInitPosition();}<b>if</b>(this.constrainX){<b>this</b>.setXConstraint(<b>this</b>.leftConstraint,<b>this</b>.rightConstraint,<b>this</b>.xTickSize);}<b>if</b>(this.constrainY){<b>this</b>.setYConstraint(<b>this</b>.topConstraint,<b>this</b>.bottomConstraint,<b>this</b>.yTickSize);}},getTick:<b>function</b>(val,_53){<b>if</b>(!_53){<b>return</b> val;}<b>else</b>{if(_53[0]&gt;=val){<b>return</b> _53[0];}<b>else</b>{for(<b>var</b> i=0,len=_53.length;i&lt;len;++i){<b>var</b> _54=i+1;<b>if</b>(_53[_54]&amp;&amp;_53[_54]&gt;=val){<b>var</b> _55=val-_53[i];<b>var</b> _56=_53[_54]-val;<b>return</b> (_56&gt;_55)?_53[i]:_53[_54];}}<b>return</b> _53[_53.length-1];}}},toString:<b>function</b>(){<b>return</b> (&quot;DragDrop &quot;+<b>this</b>.id);}};})();<b>if</b>(!YAHOO.util.DragDropMgr){YAHOO.util.DragDropMgr=<b>function</b>(){<b>var</b> _57=YAHOO.util.Event;<b>return</b> {ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initalized:false,locked:false,init:<b>function</b>(){<b>this</b>.initialized=true;},POINT:0,INTERSECT:1,mode:0,_execOnAll:<b>function</b>(_58,_59){<b>for</b>(var i <b>in</b> this.ids){<b>for</b>(var j <b>in</b> this.ids[i]){<b>var</b> oDD=<b>this</b>.ids[i][j];<b>if</b>(!<b>this</b>.isTypeOfDD(oDD)){<b>continue</b>;}oDD[_58].apply(oDD,_59);}}},_onLoad:<b>function</b>(){<b>this</b>.init();_57.on(document,&quot;mouseup&quot;,<b>this</b>.handleMouseUp,<b>this</b>,true);_57.on(document,&quot;mousemove&quot;,<b>this</b>.handleMouseMove,<b>this</b>,true);_57.on(window,&quot;unload&quot;,<b>this</b>._onUnload,<b>this</b>,true);_57.on(window,&quot;resize&quot;,<b>this</b>._onResize,<b>this</b>,true);},_onResize:<b>function</b>(e){<b>this</b>._execOnAll(&quot;resetConstraints&quot;,[]);},lock:<b>function</b>(){<b>this</b>.locked=true;},unlock:<b>function</b>(){<b>this</b>.locked=false;},isLocked:<b>function</b>(){<b>return</b> this.locked;},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:1000,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:<b>function</b>(oDD,_61){<b>if</b>(!<b>this</b>.initialized){<b>this</b>.init();}<b>if</b>(!<b>this</b>.ids[_61]){<b>this</b>.ids[_61]={};}<b>this</b>.ids[_61][oDD.id]=oDD;},removeDDFromGroup:<b>function</b>(oDD,_62){<b>if</b>(!<b>this</b>.ids[_62]){<b>this</b>.ids[_62]={};}<b>var</b> obj=<b>this</b>.ids[_62];<b>if</b>(obj&amp;&amp;obj[oDD.id]){<b>delete</b> obj[oDD.id];}},_remove:<b>function</b>(oDD){<b>for</b>(var g <b>in</b> oDD.groups){<b>if</b>(g&amp;&amp;<b>this</b>.ids[g][oDD.id]){<b>delete</b> this.ids[g][oDD.id];}}<b>delete</b> this.handleIds[oDD.id];},regHandle:<b>function</b>(_65,_66){<b>if</b>(!<b>this</b>.handleIds[_65]){<b>this</b>.handleIds[_65]={};}<b>this</b>.handleIds[_65][_66]=_66;},isDragDrop:<b>function</b>(id){<b>return</b> (<b>this</b>.getDDById(id))?true:false;},getRelated:<b>function</b>(_67,_68){<b>var</b> _69=[];<b>for</b>(var i <b>in</b> _67.groups){<b>for</b>(j <b>in</b> this.ids[i]){<b>var</b> dd=<b>this</b>.ids[i][j];<b>if</b>(!<b>this</b>.isTypeOfDD(dd)){<b>continue</b>;}<b>if</b>(!_68||dd.isTarget){_69[_69.length]=dd;}}}<b>return</b> _69;},isLegalTarget:<b>function</b>(oDD,_71){<b>var</b> _72=<b>this</b>.getRelated(oDD,true);<b>for</b>(var i=0,len=_72.length;i&lt;len;++i){<b>if</b>(_72[i].id==_71.id){<b>return</b> true;}}<b>return</b> false;},isTypeOfDD:<b>function</b>(oDD){<b>return</b> (oDD&amp;&amp;oDD.__ygDragDrop);},isHandle:<b>function</b>(_73,_74){<b>return</b> (<b>this</b>.handleIds[_73]&amp;&amp;<b>this</b>.handleIds[_73][_74]);},getDDById:<b>function</b>(id){<b>for</b>(var i <b>in</b> this.ids){<b>if</b>(this.ids[i][id]){<b>return</b> this.ids[i][id];}}<b>return</b> null;},handleMouseDown:<b>function</b>(e,oDD){<b>this</b>.currentTarget=YAHOO.util.Event.getTarget(e);<b>this</b>.dragCurrent=oDD;<b>var</b> el=oDD.getEl();<b>this</b>.startX=YAHOO.util.Event.getPageX(e);<b>this</b>.startY=YAHOO.util.Event.getPageY(e);<b>this</b>.deltaX=<b>this</b>.startX-el.offsetLeft;<b>this</b>.deltaY=<b>this</b>.startY-el.offsetTop;<b>this</b>.dragThreshMet=false;<b>this</b>.clickTimeout=setTimeout(<b>function</b>(){<b>var</b> DDM=YAHOO.util.DDM;DDM.startDrag(DDM.startX,DDM.startY);},<b>this</b>.clickTimeThresh);},startDrag:<b>function</b>(x,y){clearTimeout(<b>this</b>.clickTimeout);<b>if</b>(this.dragCurrent){<b>this</b>.dragCurrent.b4StartDrag(x,y);<b>this</b>.dragCurrent.startDrag(x,y);}<b>this</b>.dragThreshMet=true;},handleMouseUp:<b>function</b>(e){<b>if</b>(!<b>this</b>.dragCurrent){<b>return</b>;}clearTimeout(<b>this</b>.clickTimeout);<b>if</b>(this.dragThreshMet){<b>this</b>.fireEvents(e,true);}<b>else</b>{}<b>this</b>.stopDrag(e);<b>this</b>.stopEvent(e);},stopEvent:<b>function</b>(e){<b>if</b>(this.stopPropagation){YAHOO.util.Event.stopPropagation(e);}<b>if</b>(this.preventDefault){YAHOO.util.Event.preventDefault(e);}},stopDrag:<b>function</b>(e){<b>if</b>(this.dragCurrent){<b>if</b>(this.dragThreshMet){<b>this</b>.dragCurrent.b4EndDrag(e);<b>this</b>.dragCurrent.endDrag(e);}<b>this</b>.dragCurrent.onMouseUp(e);}<b>this</b>.dragCurrent=null;<b>this</b>.dragOvers={};},handleMouseMove:<b>function</b>(e){<b>if</b>(!<b>this</b>.dragCurrent){<b>return</b> true;}<b>if</b>(YAHOO.util.Event.isIE&amp;&amp;!e.button){<b>this</b>.stopEvent(e);<b>return</b> this.handleMouseUp(e);}<b>if</b>(!<b>this</b>.dragThreshMet){<b>var</b> _76=Math.abs(<b>this</b>.startX-YAHOO.util.Event.getPageX(e));<b>var</b> _77=Math.abs(<b>this</b>.startY-YAHOO.util.Event.getPageY(e));<b>if</b>(_76&gt;<b>this</b>.clickPixelThresh||_77&gt;<b>this</b>.clickPixelThresh){<b>this</b>.startDrag(<b>this</b>.startX,<b>this</b>.startY);}}<b>if</b>(this.dragThreshMet){<b>this</b>.dragCurrent.b4Drag(e);<b>this</b>.dragCurrent.onDrag(e);<b>this</b>.fireEvents(e,false);}<b>this</b>.stopEvent(e);<b>return</b> true;},fireEvents:<b>function</b>(e,_78){<b>var</b> dc=<b>this</b>.dragCurrent;<b>if</b>(!dc||dc.isLocked()){<b>return</b>;}<b>var</b> x=YAHOO.util.Event.getPageX(e);<b>var</b> y=YAHOO.util.Event.getPageY(e);<b>var</b> pt=<b>new</b> YAHOO.util.Point(x,y);<b>var</b> _80=[];<b>var</b> _81=[];<b>var</b> _82=[];<b>var</b> _83=[];<b>var</b> _84=[];<b>for</b>(var i <b>in</b> this.dragOvers){<b>var</b> ddo=<b>this</b>.dragOvers[i];<b>if</b>(!<b>this</b>.isTypeOfDD(ddo)){<b>continue</b>;}<b>if</b>(!<b>this</b>.isOverTarget(pt,ddo,<b>this</b>.mode)){_81.push(ddo);}_80[i]=true;<b>delete</b> this.dragOvers[i];}<b>for</b>(var _86 <b>in</b> dc.groups){<b>if</b>(&quot;string&quot;!=<b>typeof</b> _86){<b>continue</b>;}<b>for</b>(i <b>in</b> this.ids[_86]){<b>var</b> oDD=<b>this</b>.ids[_86][i];<b>if</b>(!<b>this</b>.isTypeOfDD(oDD)){<b>continue</b>;}<b>if</b>(oDD.isTarget&amp;&amp;!oDD.isLocked()&amp;&amp;oDD!=dc){<b>if</b>(this.isOverTarget(pt,oDD,<b>this</b>.mode)){<b>if</b>(_78){_83.push(oDD);}<b>else</b>{if(!_80[oDD.id]){_84.push(oDD);}<b>else</b>{_82.push(oDD);}<b>this</b>.dragOvers[oDD.id]=oDD;}}}}}<b>if</b>(this.mode){<b>if</b>(_81.length){dc.b4DragOut(e,_81);dc.onDragOut(e,_81);}<b>if</b>(_84.length){dc.onDragEnter(e,_84);}<b>if</b>(_82.length){dc.b4DragOver(e,_82);dc.onDragOver(e,_82);}<b>if</b>(_83.length){dc.b4DragDrop(e,_83);dc.onDragDrop(e,_83);}}<b>else</b>{var len=0;<b>for</b>(i=0,len=_81.length;i&lt;len;++i){dc.b4DragOut(e,_81[i].id);dc.onDragOut(e,_81[i].id);}<b>for</b>(i=0,len=_84.length;i&lt;len;++i){dc.onDragEnter(e,_84[i].id);}<b>for</b>(i=0,len=_82.length;i&lt;len;++i){dc.b4DragOver(e,_82[i].id);dc.onDragOver(e,_82[i].id);}<b>for</b>(i=0,len=_83.length;i&lt;len;++i){dc.b4DragDrop(e,_83[i].id);dc.onDragDrop(e,_83[i].id);}}<b>if</b>(_78&amp;&amp;!_83.length){dc.onInvalidDrop(e);}},getBestMatch:<b>function</b>(dds){<b>var</b> _89=null;<b>var</b> len=dds.length;<b>if</b>(len==1){_89=dds[0];}<b>else</b>{for(<b>var</b> i=0;i&lt;len;++i){<b>var</b> dd=dds[i];<b>if</b>(dd.cursorIsOver){_89=dd;<b>break</b>;}<b>else</b>{if(!_89||_89.overlap.getArea()&lt;dd.overlap.getArea()){_89=dd;}}}}<b>return</b> _89;},refreshCache:<b>function</b>(_90){<b>for</b>(var _91 <b>in</b> _90){<b>if</b>(&quot;string&quot;!=<b>typeof</b> _91){<b>continue</b>;}<b>for</b>(var i <b>in</b> this.ids[_91]){<b>var</b> oDD=<b>this</b>.ids[_91][i];<b>if</b>(this.isTypeOfDD(oDD)){<b>var</b> loc=<b>this</b>.getLocation(oDD);<b>if</b>(loc){<b>this</b>.locationCache[oDD.id]=loc;}<b>else</b>{delete <b>this</b>.locationCache[oDD.id];}}}}},verifyEl:<b>function</b>(el){try{<b>if</b>(el){<b>var</b> _93=el.offsetParent;<b>if</b>(_93){<b>return</b> true;}}}catch(e){}<b>return</b> false;},getLocation:<b>function</b>(oDD){<b>if</b>(!<b>this</b>.isTypeOfDD(oDD)){<b>return</b> null;}<b>var</b> el=oDD.getEl(),pos,x1,x2,y1,y2,t,r,b,l;try{pos=YAHOO.util.Dom.getXY(el);}catch(e){}<b>if</b>(!pos){<b>return</b> null;}x1=pos[0];x2=x1+el.offsetWidth;y1=pos[1];y2=y1+el.offsetHeight;t=y1-oDD.padding[0];r=x2+oDD.padding[1];b=y2+oDD.padding[2];l=x1-oDD.padding[3];<b>return</b> new YAHOO.util.Region(t,r,b,l);},isOverTarget:<b>function</b>(pt,_94,_95){<b>var</b> loc=<b>this</b>.locationCache[_94.id];<b>if</b>(!loc||!<b>this</b>.useCache){loc=<b>this</b>.getLocation(_94);<b>this</b>.locationCache[_94.id]=loc;}<b>if</b>(!loc){<b>return</b> false;}_94.cursorIsOver=loc.contains(pt);<b>var</b> dc=<b>this</b>.dragCurrent;<b>if</b>(!dc||!dc.getTargetCoord||(!_95&amp;&amp;!dc.constrainX&amp;&amp;!dc.constrainY)){<b>return</b> _94.cursorIsOver;}_94.overlap=null;<b>var</b> pos=dc.getTargetCoord(pt.x,pt.y);<b>var</b> el=dc.getDragEl();<b>var</b> _96=<b>new</b> YAHOO.util.Region(pos.y,pos.x+el.offsetWidth,pos.y+el.offsetHeight,pos.x);<b>var</b> _97=_96.intersect(loc);<b>if</b>(_97){_94.overlap=_97;<b>return</b> (_95)?true:_94.cursorIsOver;}<b>else</b>{return false;}},_onUnload:<b>function</b>(e,me){<b>this</b>.unregAll();},unregAll:<b>function</b>(){<b>if</b>(this.dragCurrent){<b>this</b>.stopDrag();<b>this</b>.dragCurrent=null;}<b>this</b>._execOnAll(&quot;unreg&quot;,[]);<b>for</b>(i <b>in</b> this.elementCache){<b>delete</b> this.elementCache[i];}<b>this</b>.elementCache={};<b>this</b>.ids={};},elementCache:{},getElWrapper:<b>function</b>(id){<b>var</b> _99=<b>this</b>.elementCache[id];<b>if</b>(!_99||!_99.el){_99=<b>this</b>.elementCache[id]=<b>new</b> this.ElementWrapper(YAHOO.util.Dom.get(id));}<b>return</b> _99;},getElement:<b>function</b>(id){<b>return</b> YAHOO.util.Dom.get(id);},getCss:<b>function</b>(id){<b>var</b> el=YAHOO.util.Dom.get(id);<b>return</b> (el)?el.style:null;},ElementWrapper:<b>function</b>(el){<b>this</b>.el=el||null;<b>this</b>.id=<b>this</b>.el&amp;&amp;el.id;<b>this</b>.css=<b>this</b>.el&amp;&amp;el.style;},getPosX:<b>function</b>(el){<b>return</b> YAHOO.util.Dom.getX(el);},getPosY:<b>function</b>(el){<b>return</b> YAHOO.util.Dom.getY(el);},swapNode:<b>function</b>(n1,n2){<b>if</b>(n1.swapNode){n1.swapNode(n2);}<b>else</b>{var p=n2.parentNode;<b>var</b> s=n2.nextSibling;<b>if</b>(s==n1){p.insertBefore(n1,n2);}<b>else</b>{if(n2==n1.nextSibling){p.insertBefore(n2,n1);}<b>else</b>{n1.parentNode.replaceChild(n2,n1);p.insertBefore(n1,s);}}}},getScroll:<b>function</b>(){<b>var</b> t,l,dde=document.documentElement,db=document.body;<b>if</b>(dde&amp;&amp;(dde.scrollTop||dde.scrollLeft)){t=dde.scrollTop;l=dde.scrollLeft;}<b>else</b>{if(db){t=db.scrollTop;l=db.scrollLeft;}<b>else</b>{YAHOO.log(&quot;could not get scroll property&quot;);}}<b>return</b> {top:t,left:l};},getStyle:<b>function</b>(el,_104){<b>return</b> YAHOO.util.Dom.getStyle(el,_104);},getScrollTop:<b>function</b>(){<b>return</b> this.getScroll().top;},getScrollLeft:<b>function</b>(){<b>return</b> this.getScroll().left;},moveToEl:<b>function</b>(_105,_106){<b>var</b> _107=YAHOO.util.Dom.getXY(_106);YAHOO.util.Dom.setXY(_105,_107);},getClientHeight:<b>function</b>(){<b>return</b> YAHOO.util.Dom.getViewportHeight();},getClientWidth:<b>function</b>(){<b>return</b> YAHOO.util.Dom.getViewportWidth();},numericSort:<b>function</b>(a,b){<b>return</b> (a-b);},_timeoutCount:0,_addListeners:<b>function</b>(){<b>var</b> DDM=YAHOO.util.DDM;<b>if</b>(YAHOO.util.Event&amp;&amp;document){DDM._onLoad();}<b>else</b>{if(DDM._timeoutCount&gt;2000){}<b>else</b>{setTimeout(DDM._addListeners,10);<b>if</b>(document&amp;&amp;document.body){DDM._timeoutCount+=1;}}}},handleWasClicked:<b>function</b>(node,id){<b>if</b>(this.isHandle(id,node.id)){<b>return</b> true;}<b>else</b>{var p=node.parentNode;<b>while</b>(p){<b>if</b>(this.isHandle(id,p.id)){<b>return</b> true;}<b>else</b>{p=p.parentNode;}}}<b>return</b> false;}};}();YAHOO.util.DDM=YAHOO.util.DragDropMgr;YAHOO.util.DDM._addListeners();}YAHOO.util.DD=<b>function</b>(id,_111,_112){<b>if</b>(id){<b>this</b>.init(id,_111,_112);}};YAHOO.extend(YAHOO.util.DD,YAHOO.util.DragDrop,{scroll:true,autoOffset:<b>function</b>(_113,_114){<b>var</b> x=_113-<b>this</b>.startPageX;<b>var</b> y=_114-<b>this</b>.startPageY;<b>this</b>.setDelta(x,y);},setDelta:<b>function</b>(_115,_116){<b>this</b>.deltaX=_115;<b>this</b>.deltaY=_116;},setDragElPos:<b>function</b>(_117,_118){<b>var</b> el=<b>this</b>.getDragEl();<b>this</b>.alignElWithMouse(el,_117,_118);},alignElWithMouse:<b>function</b>(el,_119,_120){<b>var</b> _121=<b>this</b>.getTargetCoord(_119,_120);<b>if</b>(!<b>this</b>.deltaSetXY){<b>var</b> _122=[_121.x,_121.y];YAHOO.util.Dom.setXY(el,_122);<b>var</b> _123=parseInt(YAHOO.util.Dom.getStyle(el,&quot;left&quot;),10);<b>var</b> _124=parseInt(YAHOO.util.Dom.getStyle(el,&quot;top&quot;),10);<b>this</b>.deltaSetXY=[_123-_121.x,_124-_121.y];}<b>else</b>{YAHOO.util.Dom.setStyle(el,&quot;left&quot;,(_121.x+<b>this</b>.deltaSetXY[0])+&quot;px&quot;);YAHOO.util.Dom.setStyle(el,&quot;top&quot;,(_121.y+<b>this</b>.deltaSetXY[1])+&quot;px&quot;);}<b>this</b>.cachePosition(_121.x,_121.y);<b>this</b>.autoScroll(_121.x,_121.y,el.offsetHeight,el.offsetWidth);},cachePosition:<b>function</b>(_125,_126){<b>if</b>(_125){<b>this</b>.lastPageX=_125;<b>this</b>.lastPageY=_126;}<b>else</b>{var _127=YAHOO.util.Dom.getXY(<b>this</b>.getEl());<b>this</b>.lastPageX=_127[0];<b>this</b>.lastPageY=_127[1];}},autoScroll:<b>function</b>(x,y,h,w){<b>if</b>(this.scroll){<b>var</b> _130=<b>this</b>.DDM.getClientHeight();<b>var</b> _131=<b>this</b>.DDM.getClientWidth();<b>var</b> st=<b>this</b>.DDM.getScrollTop();<b>var</b> sl=<b>this</b>.DDM.getScrollLeft();<b>var</b> bot=h+y;<b>var</b> _135=w+x;<b>var</b> _136=(_130+st-y-<b>this</b>.deltaY);<b>var</b> _137=(_131+sl-x-<b>this</b>.deltaX);<b>var</b> _138=40;<b>var</b> _139=(document.all)?80:30;<b>if</b>(bot&gt;_130&amp;&amp;_136&lt;_138){window.scrollTo(sl,st+_139);}<b>if</b>(y&lt;st&amp;&amp;st&gt;0&amp;&amp;y-st&lt;_138){window.scrollTo(sl,st-_139);}<b>if</b>(_135&gt;_131&amp;&amp;_137&lt;_138){window.scrollTo(sl+_139,st);}<b>if</b>(x&lt;sl&amp;&amp;sl&gt;0&amp;&amp;x-sl&lt;_138){window.scrollTo(sl-_139,st);}}},getTargetCoord:<b>function</b>(_140,_141){<b>var</b> x=_140-<b>this</b>.deltaX;<b>var</b> y=_141-<b>this</b>.deltaY;<b>if</b>(this.constrainX){<b>if</b>(x&lt;<b>this</b>.minX){x=<b>this</b>.minX;}<b>if</b>(x&gt;<b>this</b>.maxX){x=<b>this</b>.maxX;}}<b>if</b>(this.constrainY){<b>if</b>(y&lt;<b>this</b>.minY){y=<b>this</b>.minY;}<b>if</b>(y&gt;<b>this</b>.maxY){y=<b>this</b>.maxY;}}x=<b>this</b>.getTick(x,<b>this</b>.xTicks);y=<b>this</b>.getTick(y,<b>this</b>.yTicks);<b>return</b> {x:x,y:y};},applyConfig:<b>function</b>(){YAHOO.util.DD.superclass.applyConfig.call(<b>this</b>);<b>this</b>.scroll=(<b>this</b>.config.scroll!==false);},b4MouseDown:<b>function</b>(e){<b>this</b>.autoOffset(YAHOO.util.Event.getPageX(e),YAHOO.util.Event.getPageY(e));},b4Drag:<b>function</b>(e){<b>this</b>.setDragElPos(YAHOO.util.Event.getPageX(e),YAHOO.util.Event.getPageY(e));},toString:<b>function</b>(){<b>return</b> (&quot;DD &quot;+<b>this</b>.id);}});YAHOO.util.DDProxy=<b>function</b>(id,_142,_143){<b>if</b>(id){<b>this</b>.init(id,_142,_143);<b>this</b>.initFrame();}};YAHOO.util.DDProxy.dragElId=&quot;ygddfdiv&quot;;YAHOO.extend(YAHOO.util.DDProxy,YAHOO.util.DD,{resizeFrame:true,centerFrame:false,createFrame:<b>function</b>(){<b>var</b> self=<b>this</b>;var body=document.body;<b>if</b>(!body||!body.firstChild){setTimeout(<b>function</b>(){self.createFrame();},50);<b>return</b>;}<b>var</b> div=<b>this</b>.getDragEl();<b>if</b>(!div){div=document.createElement(&quot;div&quot;);div.id=<b>this</b>.dragElId;<b>var</b> s=div.style;s.position=&quot;absolute&quot;;s.visibility=&quot;hidden&quot;;s.cursor=&quot;move&quot;;s.border=&quot;2px solid #aaa&quot;;s.zIndex=999;body.insertBefore(div,body.firstChild);}},initFrame:<b>function</b>(){<b>this</b>.createFrame();},applyConfig:<b>function</b>(){YAHOO.util.DDProxy.superclass.applyConfig.call(<b>this</b>);<b>this</b>.resizeFrame=(<b>this</b>.config.resizeFrame!==false);<b>this</b>.centerFrame=(<b>this</b>.config.centerFrame);<b>this</b>.setDragElId(<b>this</b>.config.dragElId||YAHOO.util.DDProxy.dragElId);},showFrame:<b>function</b>(_147,_148){<b>var</b> el=<b>this</b>.getEl();<b>var</b> _149=<b>this</b>.getDragEl();<b>var</b> s=_149.style;<b>this</b>._resizeProxy();<b>if</b>(this.centerFrame){<b>this</b>.setDelta(Math.round(parseInt(s.width,10)/2),Math.round(parseInt(s.height,10)/2));}<b>this</b>.setDragElPos(_147,_148);YAHOO.util.Dom.setStyle(_149,&quot;visibility&quot;,&quot;visible&quot;);},_resizeProxy:<b>function</b>(){<b>if</b>(this.resizeFrame){<b>var</b> DOM=YAHOO.util.Dom;<b>var</b> el=<b>this</b>.getEl();<b>var</b> _151=<b>this</b>.getDragEl();<b>var</b> bt=parseInt(DOM.getStyle(_151,&quot;borderTopWidth&quot;),10);<b>var</b> br=parseInt(DOM.getStyle(_151,&quot;borderRightWidth&quot;),10);<b>var</b> bb=parseInt(DOM.getStyle(_151,&quot;borderBottomWidth&quot;),10);<b>var</b> bl=parseInt(DOM.getStyle(_151,&quot;borderLeftWidth&quot;),10);<b>if</b>(isNaN(bt)){bt=0;}<b>if</b>(isNaN(br)){br=0;}<b>if</b>(isNaN(bb)){bb=0;}<b>if</b>(isNaN(bl)){bl=0;}<b>var</b> _156=Math.max(0,el.offsetWidth-br-bl);<b>var</b> _157=Math.max(0,el.offsetHeight-bt-bb);DOM.setStyle(_151,&quot;width&quot;,_156+&quot;px&quot;);DOM.setStyle(_151,&quot;height&quot;,_157+&quot;px&quot;);}},b4MouseDown:<b>function</b>(e){<b>var</b> x=YAHOO.util.Event.getPageX(e);<b>var</b> y=YAHOO.util.Event.getPageY(e);<b>this</b>.autoOffset(x,y);<b>this</b>.setDragElPos(x,y);},b4StartDrag:<b>function</b>(x,y){<b>this</b>.showFrame(x,y);},b4EndDrag:<b>function</b>(e){YAHOO.util.Dom.setStyle(<b>this</b>.getDragEl(),&quot;visibility&quot;,&quot;hidden&quot;);},endDrag:<b>function</b>(e){<b>var</b> DOM=YAHOO.util.Dom;<b>var</b> lel=<b>this</b>.getEl();<b>var</b> del=<b>this</b>.getDragEl();DOM.setStyle(del,&quot;visibility&quot;,&quot;&quot;);DOM.setStyle(lel,&quot;visibility&quot;,&quot;hidden&quot;);YAHOO.util.DDM.moveToEl(lel,del);DOM.setStyle(del,&quot;visibility&quot;,&quot;hidden&quot;);DOM.setStyle(lel,&quot;visibility&quot;,&quot;&quot;);},toString:<b>function</b>(){<b>return</b> (&quot;DDProxy &quot;+<b>this</b>.id);}});YAHOO.util.DDTarget=<b>function</b>(id,_160,_161){<b>if</b>(id){<b>this</b>.initTarget(id,_160,_161);}};YAHOO.extend(YAHOO.util.DDTarget,YAHOO.util.DragDrop,{toString:<b>function</b>(){<b>return</b> (&quot;DDTarget &quot;+<b>this</b>.id);}});
YAHOO.util.Connect={_msxml_progid:['MSXML2.XMLHTTP.3.0','MSXML2.XMLHTTP','Microsoft.XMLHTTP'],_http_header:{},_has_http_headers:false,_use_default_post_header:true,_default_post_header:'application/x-www-form-urlencoded',_isFormSubmit:false,_isFileUpload:false,_formNode:null,_sFormData:null,_poll:{},_timeOut:{},_polling_interval:50,_transaction_id:0,setProgId:<b>function</b>(id)
{<b>this</b>._msxml_progid.unshift(id);},setDefaultPostHeader:<b>function</b>(b)
{<b>this</b>._use_default_post_header=b;},setPollingInterval:<b>function</b>(i)
{<b>if</b>(typeof i=='number'&amp;&amp;isFinite(i)){<b>this</b>._polling_interval=i;}},createXhrObject:<b>function</b>(transactionId)
{<b>var</b> obj,http;try
{http=<b>new</b> XMLHttpRequest();obj={conn:http,tId:transactionId};}
catch(e)
{<b>for</b>(var i=0;i&lt;<b>this</b>._msxml_progid.length;++i){try
{http=<b>new</b> ActiveXObject(<b>this</b>._msxml_progid[i]);obj={conn:http,tId:transactionId};<b>break</b>;}
catch(e){}}}
finally
{<b>return</b> obj;}},getConnectionObject:<b>function</b>()
{<b>var</b> o;<b>var</b> tId=<b>this</b>._transaction_id;try
{o=<b>this</b>.createXhrObject(tId);<b>if</b>(o){<b>this</b>._transaction_id++;}}
catch(e){}
finally
{<b>return</b> o;}},asyncRequest:<b>function</b>(method,uri,callback,postData)
{<b>var</b> o=<b>this</b>.getConnectionObject();<b>if</b>(!o){<b>return</b> null;}
<b>else</b>{if(<b>this</b>._isFormSubmit){<b>if</b>(this._isFileUpload){<b>this</b>.uploadFile(o.tId,callback,uri,postData);<b>this</b>.releaseObject(o);<b>return</b>;}
<b>if</b>(method=='GET'){<b>if</b>(this._sFormData.length!=0){uri+=((uri.indexOf('?')==-1)?'?':'&amp;')+<b>this</b>._sFormData;}
<b>else</b>{uri+=&quot;?&quot;+<b>this</b>._sFormData;}}
<b>else</b> if(method=='POST'){postData=postData?<b>this</b>._sFormData+&quot;&amp;&quot;+postData:<b>this</b>._sFormData;}}
o.conn.open(method,uri,true);<b>if</b>(this._isFormSubmit||(postData&amp;&amp;<b>this</b>._use_default_post_header)){<b>this</b>.initHeader('Content-Type',<b>this</b>._default_post_header);<b>if</b>(this._isFormSubmit){<b>this</b>.resetFormState();}}
<b>if</b>(this._has_http_headers){<b>this</b>.setHeader(o);}
<b>this</b>.handleReadyState(o,callback);o.conn.send(postData||null);<b>return</b> o;}},handleReadyState:<b>function</b>(o,callback)
{<b>var</b> oConn=<b>this</b>;if(callback&amp;&amp;callback.timeout){<b>this</b>._timeOut[o.tId]=window.setTimeout(<b>function</b>(){oConn.abort(o,callback,true);},callback.timeout);}
<b>this</b>._poll[o.tId]=window.setInterval(<b>function</b>(){<b>if</b>(o.conn&amp;&amp;o.conn.readyState==4){window.clearInterval(oConn._poll[o.tId]);<b>delete</b> oConn._poll[o.tId];<b>if</b>(callback&amp;&amp;callback.timeout){<b>delete</b> oConn._timeOut[o.tId];}
oConn.handleTransactionResponse(o,callback);}},<b>this</b>._polling_interval);},handleTransactionResponse:<b>function</b>(o,callback,isAbort)
{<b>if</b>(!callback){<b>this</b>.releaseObject(o);<b>return</b>;}
<b>var</b> httpStatus,responseObject;try
{<b>if</b>(o.conn.status!==undefined&amp;&amp;o.conn.status!=0){httpStatus=o.conn.status;}
<b>else</b>{httpStatus=13030;}}
catch(e){httpStatus=13030;}
<b>if</b>(httpStatus&gt;=200&amp;&amp;httpStatus&lt;300){try
{responseObject=<b>this</b>.createResponseObject(o,callback.argument);<b>if</b>(callback.success){<b>if</b>(!callback.scope){callback.success(responseObject);}
<b>else</b>{callback.success.apply(callback.scope,[responseObject]);}}}
catch(e){}}
<b>else</b>{try
{<b>switch</b>(httpStatus){<b>case</b> 12002:<b>case</b> 12029:<b>case</b> 12030:<b>case</b> 12031:<b>case</b> 12152:<b>case</b> 13030:responseObject=<b>this</b>.createExceptionObject(o.tId,callback.argument,(isAbort?isAbort:false));<b>if</b>(callback.failure){<b>if</b>(!callback.scope){callback.failure(responseObject);}
<b>else</b>{callback.failure.apply(callback.scope,[responseObject]);}}
<b>break</b>;default:responseObject=<b>this</b>.createResponseObject(o,callback.argument);<b>if</b>(callback.failure){<b>if</b>(!callback.scope){callback.failure(responseObject);}
<b>else</b>{callback.failure.apply(callback.scope,[responseObject]);}}}}
catch(e){}}
<b>this</b>.releaseObject(o);responseObject=null;},createResponseObject:<b>function</b>(o,callbackArg)
{<b>var</b> obj={};<b>var</b> headerObj={};try
{<b>var</b> headerStr=o.conn.getAllResponseHeaders();<b>var</b> header=headerStr.split('\n');<b>for</b>(var i=0;i&lt;header.length;i++){<b>var</b> delimitPos=header[i].indexOf(':');<b>if</b>(delimitPos!=-1){headerObj[header[i].substring(0,delimitPos)]=header[i].substring(delimitPos+2);}}}
catch(e){}
obj.tId=o.tId;obj.status=o.conn.status;obj.statusText=o.conn.statusText;obj.getResponseHeader=headerObj;obj.getAllResponseHeaders=headerStr;obj.responseText=o.conn.responseText;obj.responseXML=o.conn.responseXML;<b>if</b>(typeof callbackArg!==undefined){obj.argument=callbackArg;}
<b>return</b> obj;},createExceptionObject:<b>function</b>(tId,callbackArg,isAbort)
{<b>var</b> COMM_CODE=0;<b>var</b> COMM_ERROR='communication failure';<b>var</b> ABORT_CODE=-1;<b>var</b> ABORT_ERROR='transaction aborted';<b>var</b> obj={};obj.tId=tId;<b>if</b>(isAbort){obj.status=ABORT_CODE;obj.statusText=ABORT_ERROR;}
<b>else</b>{obj.status=COMM_CODE;obj.statusText=COMM_ERROR;}
<b>if</b>(callbackArg){obj.argument=callbackArg;}
<b>return</b> obj;},initHeader:<b>function</b>(label,value)
{<b>if</b>(this._http_header[label]===undefined){<b>this</b>._http_header[label]=value;}
<b>else</b>{this._http_header[label]=value+&quot;,&quot;+<b>this</b>._http_header[label];}
<b>this</b>._has_http_headers=true;},setHeader:<b>function</b>(o)
{<b>for</b>(var prop <b>in</b> this._http_header){<b>if</b>(this._http_header.hasOwnProperty(prop)){o.conn.setRequestHeader(prop,<b>this</b>._http_header[prop]);}}
<b>delete</b> this._http_header;<b>this</b>._http_header={};<b>this</b>._has_http_headers=false;},setForm:<b>function</b>(formId,isUpload,secureUri)
{<b>this</b>.resetFormState();<b>var</b> oForm;<b>if</b>(typeof formId=='string'){oForm=(document.getElementById(formId)||document.forms[formId]);}
<b>else</b> if(<b>typeof</b> formId=='object'){oForm=formId;}
<b>else</b>{return;}
<b>if</b>(isUpload){<b>this</b>.createFrame(secureUri?secureUri:null);<b>this</b>._isFormSubmit=true;<b>this</b>._isFileUpload=true;<b>this</b>._formNode=oForm;<b>return</b>;}
<b>var</b> oElement,oName,oValue,oDisabled;<b>var</b> hasSubmit=false;<b>for</b>(var i=0;i&lt;oForm.elements.length;i++){oElement=oForm.elements[i];oDisabled=oForm.elements[i].disabled;oName=oForm.elements[i].name;oValue=oForm.elements[i].value;<b>if</b>(!oDisabled&amp;&amp;oName)
{<b>switch</b>(oElement.type)
{<b>case</b>'select-one':<b>case</b>'select-multiple':<b>for</b>(var j=0;j&lt;oElement.options.length;j++){<b>if</b>(oElement.options[j].selected){<b>if</b>(window.ActiveXObject){<b>this</b>._sFormData+=encodeURIComponent(oName)+'='+encodeURIComponent(oElement.options[j].attributes['value'].specified?oElement.options[j].value:oElement.options[j].text)+'&amp;';}
<b>else</b>{this._sFormData+=encodeURIComponent(oName)+'='+encodeURIComponent(oElement.options[j].hasAttribute('value')?oElement.options[j].value:oElement.options[j].text)+'&amp;';}}}
<b>break</b>;case'radio':<b>case</b>'checkbox':<b>if</b>(oElement.checked){<b>this</b>._sFormData+=encodeURIComponent(oName)+'='+encodeURIComponent(oValue)+'&amp;';}
<b>break</b>;case'file':<b>case</b> undefined:<b>case</b>'reset':<b>case</b>'button':<b>break</b>;case'submit':<b>if</b>(hasSubmit==false){<b>this</b>._sFormData+=encodeURIComponent(oName)+'='+encodeURIComponent(oValue)+'&amp;';hasSubmit=true;}
<b>break</b>;default:<b>this</b>._sFormData+=encodeURIComponent(oName)+'='+encodeURIComponent(oValue)+'&amp;';<b>break</b>;}}}
<b>this</b>._isFormSubmit=true;<b>this</b>._sFormData=<b>this</b>._sFormData.substr(0,<b>this</b>._sFormData.length-1);<b>return</b> this._sFormData;},resetFormState:<b>function</b>(){<b>this</b>._isFormSubmit=false;<b>this</b>._isFileUpload=false;<b>this</b>._formNode=null;<b>this</b>._sFormData=&quot;&quot;;},createFrame:<b>function</b>(secureUri){<b>var</b> frameId='yuiIO'+<b>this</b>._transaction_id;<b>if</b>(window.ActiveXObject){<b>var</b> io=document.createElement('&lt;iframe id=&quot;'+frameId+'&quot; name=&quot;'+frameId+'&quot; /&gt;');<b>if</b>(typeof secureUri=='boolean'){io.src='javascript:false';}
<b>else</b> if(<b>typeof</b> secureURI=='string'){io.src=secureUri;}}
<b>else</b>{var io=document.createElement('iframe');io.id=frameId;io.name=frameId;}
io.style.position='absolute';io.style.top='-1000px';io.style.left='-1000px';document.body.appendChild(io);},appendPostData:<b>function</b>(postData)
{<b>var</b> formElements=<b>new</b> Array();<b>var</b> postMessage=postData.split('&amp;');<b>for</b>(var i=0;i&lt;postMessage.length;i++){<b>var</b> delimitPos=postMessage[i].indexOf('=');<b>if</b>(delimitPos!=-1){formElements[i]=document.createElement('input');formElements[i].type='hidden';formElements[i].name=postMessage[i].substring(0,delimitPos);formElements[i].value=postMessage[i].substring(delimitPos+1);<b>this</b>._formNode.appendChild(formElements[i]);}}
<b>return</b> formElements;},uploadFile:<b>function</b>(id,callback,uri,postData){<b>var</b> frameId='yuiIO'+id;<b>var</b> io=document.getElementById(frameId);<b>this</b>._formNode.action=uri;<b>this</b>._formNode.method='POST';<b>this</b>._formNode.target=frameId;<b>if</b>(this._formNode.encoding){<b>this</b>._formNode.encoding='multipart/form-data';}
<b>else</b>{this._formNode.enctype='multipart/form-data';}
<b>if</b>(postData){<b>var</b> oElements=<b>this</b>.appendPostData(postData);}
<b>this</b>._formNode.submit();<b>if</b>(oElements&amp;&amp;oElements.length&gt;0){try
{<b>for</b>(var i=0;i&lt;oElements.length;i++){<b>this</b>._formNode.removeChild(oElements[i]);}}
catch(e){}}
<b>this</b>.resetFormState();<b>var</b> uploadCallback=<b>function</b>()
{<b>var</b> obj={};obj.tId=id;obj.argument=callback.argument;try
{obj.responseText=io.contentWindow.document.body?io.contentWindow.document.body.innerHTML:null;obj.responseXML=io.contentWindow.document.XMLDocument?io.contentWindow.document.XMLDocument:io.contentWindow.document;}
catch(e){}
<b>if</b>(callback.upload){<b>if</b>(!callback.scope){callback.upload(obj);}
<b>else</b>{callback.upload.apply(callback.scope,[obj]);}}
<b>if</b>(YAHOO.util.Event){YAHOO.util.Event.removeListener(io,&quot;load&quot;,uploadCallback);}
<b>else</b> if(window.detachEvent){io.detachEvent('onload',uploadCallback);}
<b>else</b>{io.removeEventListener('load',uploadCallback,false);}
setTimeout(<b>function</b>(){document.body.removeChild(io);},100);};<b>if</b>(YAHOO.util.Event){YAHOO.util.Event.addListener(io,&quot;load&quot;,uploadCallback);}
<b>else</b> if(window.attachEvent){io.attachEvent('onload',uploadCallback);}
<b>else</b>{io.addEventListener('load',uploadCallback,false);}},abort:<b>function</b>(o,callback,isTimeout)
{<b>if</b>(this.isCallInProgress(o)){o.conn.abort();window.clearInterval(<b>this</b>._poll[o.tId]);<b>delete</b> this._poll[o.tId];<b>if</b>(isTimeout){<b>delete</b> this._timeOut[o.tId];}
<b>this</b>.handleTransactionResponse(o,callback,true);<b>return</b> true;}
<b>else</b>{return false;}},isCallInProgress:<b>function</b>(o)
{<b>if</b>(o.conn){<b>return</b> o.conn.readyState!=4&amp;&amp;o.conn.readyState!=0;}
<b>else</b>{return false;}},releaseObject:<b>function</b>(o)
{o.conn=null;o=null;}};</code></pre><hr><div style="font-size:10px;text-align:center;color:gray;">yui-ext - Copyright &copy; 2006 Jack Slocum.  |
    Yahoo! UI - Copyright &copy; 2006 Yahoo! Inc.<br />All rights reserved.</div>
    </body></html>