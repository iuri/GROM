<html><head><title>yahoo-dom-event.js</title><link rel="stylesheet" type="text/css" href="../resources/style.css" media="screen"/></head><body><h1>yahoo-dom-event.js</h1><pre class="highlighted"><code><i>/* Copyright (c) 2006, Yahoo! Inc. All rights reserved.Code licensed under the BSD License:http://developer.yahoo.net/yui/license.txtversion: 0.12.0 */</i> <b>if</b>(typeof YAHOO==&quot;undefined&quot;){<b>var</b> YAHOO={};}YAHOO.namespace=<b>function</b>(){<b>var</b> a=arguments,o=null,i,j,d;<b>for</b>(i=0;i&lt;a.length;++i){d=a[i].split(&quot;.&quot;);o=YAHOO;<b>for</b>(j=(d[0]==&quot;YAHOO&quot;)?1:0;j&lt;d.length;++j){o[d[j]]=o[d[j]]||{};o=o[d[j]];}}<b>return</b> o;};YAHOO.log=<b>function</b>(_2,_3,_4){<b>var</b> l=YAHOO.widget.Logger;<b>if</b>(l&amp;&amp;l.log){<b>return</b> l.log(_2,_3,_4);}<b>else</b>{return false;}};YAHOO.extend=<b>function</b>(_6,_7,_8){<b>var</b> F=<b>function</b>(){};F.prototype=_7.prototype;_6.prototype=<b>new</b> F();_6.prototype.constructor=_6;_6.superclass=_7.prototype;<b>if</b>(_7.prototype.constructor==Object.prototype.constructor){_7.prototype.constructor=_7;}<b>if</b>(_8){<b>for</b>(var i <b>in</b> _8){_6.prototype[i]=_8[i];}}};YAHOO.augment=<b>function</b>(r,s){<b>var</b> rp=r.prototype,sp=s.prototype,a=arguments,i,p;<b>if</b>(a[2]){<b>for</b>(i=2;i&lt;a.length;++i){rp[a[i]]=sp[a[i]];}}<b>else</b>{for(p <b>in</b> sp){<b>if</b>(!rp[p]){rp[p]=sp[p];}}}};YAHOO.namespace(&quot;util&quot;,&quot;widget&quot;,&quot;example&quot;);(<b>function</b>(){<b>var</b> Y=YAHOO.util,getStyle,setStyle,id_counter=0,propertyCache={};<b>var</b> ua=navigator.userAgent.toLowerCase(),isOpera=(ua.indexOf('opera')&gt;-1),isSafari=(ua.indexOf('safari')&gt;-1),isGecko=(!isOpera&amp;&amp;!isSafari&amp;&amp;ua.indexOf('gecko')&gt;-1),isIE=(!isOpera&amp;&amp;ua.indexOf('msie')&gt;-1);<b>var</b> patterns={HYPHEN:/(-[a-z])/i};<b>var</b> toCamel=<b>function</b>(property){<b>if</b>(!patterns.HYPHEN.test(property)){<b>return</b> property;}<b>if</b>(propertyCache[property]){<b>return</b> propertyCache[property];}<b>while</b>(patterns.HYPHEN.exec(property)){property=property.replace(RegExp.$1,RegExp.$1.substr(1).toUpperCase());}propertyCache[property]=property;<b>return</b> property;};<b>if</b>(document.defaultView&amp;&amp;document.defaultView.getComputedStyle){getStyle=<b>function</b>(el,property){<b>var</b> value=null;<b>var</b> computed=document.defaultView.getComputedStyle(el,'');<b>if</b>(computed){value=computed[toCamel(property)];}<b>return</b> el.style[property]||value;};}<b>else</b> if(document.documentElement.currentStyle&amp;&amp;isIE){getStyle=<b>function</b>(el,property){<b>switch</b>(toCamel(property)){<b>case</b>'opacity':<b>var</b> val=100;try{val=el.filters['DXImageTransform.Microsoft.Alpha'].opacity;}catch(e){try{val=el.filters('alpha').opacity;}catch(e){}}<b>return</b> val/100;<b>break</b>;default:<b>var</b> value=el.currentStyle?el.currentStyle[property]:null;<b>return</b>(el.style[property]||value);}};}<b>else</b>{getStyle=<b>function</b>(el,property){<b>return</b> el.style[property];};}<b>if</b>(isIE){setStyle=<b>function</b>(el,property,val){<b>switch</b>(property){<b>case</b>'opacity':<b>if</b>(typeof el.style.filter=='string'){el.style.filter='alpha(opacity='+val*100+')';<b>if</b>(!el.currentStyle||!el.currentStyle.hasLayout){el.style.zoom=1;}}<b>break</b>;default:el.style[property]=val;}};}<b>else</b>{setStyle=<b>function</b>(el,property,val){el.style[property]=val;};}YAHOO.util.Dom={get:<b>function</b>(el){<b>if</b>(!el){<b>return</b> null;}<b>if</b>(typeof el!='string'&amp;&amp;!(el instanceof Array)){<b>return</b> el;}<b>if</b>(typeof el=='string'){<b>return</b> document.getElementById(el);}<b>else</b>{var collection=[];<b>for</b>(var i=0,len=el.length;i&lt;len;++i){collection[collection.length]=Y.Dom.get(el[i]);}<b>return</b> collection;}<b>return</b> null;},getStyle:<b>function</b>(el,property){property=toCamel(property);<b>var</b> f=<b>function</b>(element){<b>return</b> getStyle(element,property);};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},setStyle:<b>function</b>(el,property,val){property=toCamel(property);<b>var</b> f=<b>function</b>(element){setStyle(element,property,val);};Y.Dom.batch(el,f,Y.Dom,true);},getXY:<b>function</b>(el){<b>var</b> f=<b>function</b>(el){<b>if</b>(el.parentNode===null||el.offsetParent===null||<b>this</b>.getStyle(el,'display')=='none'){<b>return</b> false;}<b>var</b> parentNode=null;<b>var</b> pos=[];<b>var</b> box;<b>if</b>(el.getBoundingClientRect){box=el.getBoundingClientRect();<b>var</b> doc=document;<b>if</b>(!<b>this</b>.inDocument(el)&amp;&amp;parent.document!=document){doc=parent.document;<b>if</b>(!<b>this</b>.isAncestor(doc.documentElement,el)){<b>return</b> false;}}<b>var</b> scrollTop=Math.max(doc.documentElement.scrollTop,doc.body.scrollTop);<b>var</b> scrollLeft=Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft);<b>return</b>[box.left+scrollLeft,box.top+scrollTop];}<b>else</b>{pos=[el.offsetLeft,el.offsetTop];parentNode=el.offsetParent;<b>if</b>(parentNode!=el){<b>while</b>(parentNode){pos[0]+=parentNode.offsetLeft;pos[1]+=parentNode.offsetTop;parentNode=parentNode.offsetParent;}}<b>if</b>(isSafari&amp;&amp;<b>this</b>.getStyle(el,'position')=='absolute'){pos[0]-=document.body.offsetLeft;pos[1]-=document.body.offsetTop;}}<b>if</b>(el.parentNode){parentNode=el.parentNode;}<b>else</b>{parentNode=null;}<b>while</b>(parentNode&amp;&amp;parentNode.tagName.toUpperCase()!='BODY'&amp;&amp;parentNode.tagName.toUpperCase()!='HTML'){<b>if</b>(Y.Dom.getStyle(parentNode,'display')!='inline'){pos[0]-=parentNode.scrollLeft;pos[1]-=parentNode.scrollTop;}<b>if</b>(parentNode.parentNode){parentNode=parentNode.parentNode;}<b>else</b>{parentNode=null;}}<b>return</b> pos;};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},getX:<b>function</b>(el){<b>var</b> f=<b>function</b>(el){<b>return</b> Y.Dom.getXY(el)[0];};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},getY:<b>function</b>(el){<b>var</b> f=<b>function</b>(el){<b>return</b> Y.Dom.getXY(el)[1];};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},setXY:<b>function</b>(el,pos,noRetry){<b>var</b> f=<b>function</b>(el){<b>var</b> style_pos=<b>this</b>.getStyle(el,'position');<b>if</b>(style_pos=='static'){<b>this</b>.setStyle(el,'position','relative');style_pos='relative';}<b>var</b> pageXY=<b>this</b>.getXY(el);<b>if</b>(pageXY===false){<b>return</b> false;}<b>var</b> delta=[parseInt(<b>this</b>.getStyle(el,'left'),10),parseInt(<b>this</b>.getStyle(el,'top'),10)];<b>if</b>(isNaN(delta[0])){delta[0]=(style_pos=='relative')?0:el.offsetLeft;}<b>if</b>(isNaN(delta[1])){delta[1]=(style_pos=='relative')?0:el.offsetTop;}<b>if</b>(pos[0]!==null){el.style.left=pos[0]-pageXY[0]+delta[0]+'px';}<b>if</b>(pos[1]!==null){el.style.top=pos[1]-pageXY[1]+delta[1]+'px';}<b>var</b> newXY=<b>this</b>.getXY(el);<b>if</b>(!noRetry&amp;&amp;(newXY[0]!=pos[0]||newXY[1]!=pos[1])){<b>this</b>.setXY(el,pos,true);}};Y.Dom.batch(el,f,Y.Dom,true);},setX:<b>function</b>(el,x){Y.Dom.setXY(el,[x,null]);},setY:<b>function</b>(el,y){Y.Dom.setXY(el,[null,y]);},getRegion:<b>function</b>(el){<b>var</b> f=<b>function</b>(el){<b>var</b> region=<b>new</b> Y.Region.getRegion(el);<b>return</b> region;};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},getClientWidth:<b>function</b>(){<b>return</b> Y.Dom.getViewportWidth();},getClientHeight:<b>function</b>(){<b>return</b> Y.Dom.getViewportHeight();},getElementsByClassName:<b>function</b>(className,tag,root){<b>var</b> method=<b>function</b>(el){<b>return</b> Y.Dom.hasClass(el,className);};<b>return</b> Y.Dom.getElementsBy(method,tag,root);},hasClass:<b>function</b>(el,className){<b>var</b> re=<b>new</b> RegExp('(?:^|\\s+)'+className+'(?:\\s+|$)');<b>var</b> f=<b>function</b>(el){<b>return</b> re.test(el['className']);};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},addClass:<b>function</b>(el,className){<b>var</b> f=<b>function</b>(el){<b>if</b>(this.hasClass(el,className)){<b>return</b>;}el['className']=[el['className'],className].join(' ');};Y.Dom.batch(el,f,Y.Dom,true);},removeClass:<b>function</b>(el,className){<b>var</b> re=<b>new</b> RegExp('(?:^|\\s+)'+className+'(?:\\s+|$)','g');<b>var</b> f=<b>function</b>(el){<b>if</b>(!<b>this</b>.hasClass(el,className)){<b>return</b>;}<b>var</b> c=el['className'];el['className']=c.replace(re,' ');<b>if</b>(this.hasClass(el,className)){<b>this</b>.removeClass(el,className);}};Y.Dom.batch(el,f,Y.Dom,true);},replaceClass:<b>function</b>(el,oldClassName,newClassName){<b>if</b>(oldClassName===newClassName){<b>return</b> false;}<b>var</b> re=<b>new</b> RegExp('(?:^|\\s+)'+oldClassName+'(?:\\s+|$)','g');<b>var</b> f=<b>function</b>(el){<b>if</b>(!<b>this</b>.hasClass(el,oldClassName)){<b>this</b>.addClass(el,newClassName);<b>return</b>;}el['className']=el['className'].replace(re,' '+newClassName+' ');<b>if</b>(this.hasClass(el,oldClassName)){<b>this</b>.replaceClass(el,oldClassName,newClassName);}};Y.Dom.batch(el,f,Y.Dom,true);},generateId:<b>function</b>(el,prefix){prefix=prefix||'yui-gen';el=el||{};<b>var</b> f=<b>function</b>(el){<b>if</b>(el){el=Y.Dom.get(el);}<b>else</b>{el={};}<b>if</b>(!el.id){el.id=prefix+id_counter++;}<b>return</b> el.id;};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},isAncestor:<b>function</b>(haystack,needle){haystack=Y.Dom.get(haystack);<b>if</b>(!haystack||!needle){<b>return</b> false;}<b>var</b> f=<b>function</b>(needle){<b>if</b>(haystack.contains&amp;&amp;!isSafari){<b>return</b> haystack.contains(needle);}<b>else</b> if(haystack.compareDocumentPosition){<b>return</b>!!(haystack.compareDocumentPosition(needle)&amp;16);}<b>else</b>{var parent=needle.parentNode;<b>while</b>(parent){<b>if</b>(parent==haystack){<b>return</b> true;}<b>else</b> if(!parent.tagName||parent.tagName.toUpperCase()=='HTML'){<b>return</b> false;}parent=parent.parentNode;}<b>return</b> false;}};<b>return</b> Y.Dom.batch(needle,f,Y.Dom,true);},inDocument:<b>function</b>(el){<b>var</b> f=<b>function</b>(el){<b>return</b> this.isAncestor(document.documentElement,el);};<b>return</b> Y.Dom.batch(el,f,Y.Dom,true);},getElementsBy:<b>function</b>(method,tag,root){tag=tag||'*';root=Y.Dom.get(root)||document;<b>var</b> nodes=[];<b>var</b> elements=root.getElementsByTagName(tag);<b>if</b>(!elements.length&amp;&amp;(tag=='*'&amp;&amp;root.all)){elements=root.all;}<b>for</b>(var i=0,len=elements.length;i&lt;len;++i){<b>if</b>(method(elements[i])){nodes[nodes.length]=elements[i];}}<b>return</b> nodes;},batch:<b>function</b>(el,method,o,override){<b>var</b> id=el;el=Y.Dom.get(el);<b>var</b> scope=(override)?o:window;<b>if</b>(!el||el.tagName||!el.length){<b>if</b>(!el){<b>return</b> false;}<b>return</b> method.call(scope,el,o);}<b>var</b> collection=[];<b>for</b>(var i=0,len=el.length;i&lt;len;++i){<b>if</b>(!el[i]){id=el[i];}collection[collection.length]=method.call(scope,el[i],o);}<b>return</b> collection;},getDocumentHeight:<b>function</b>(){<b>var</b> scrollHeight=(document.compatMode!='CSS1Compat')?document.body.scrollHeight:document.documentElement.scrollHeight;<b>var</b> h=Math.max(scrollHeight,Y.Dom.getViewportHeight());<b>return</b> h;},getDocumentWidth:<b>function</b>(){<b>var</b> scrollWidth=(document.compatMode!='CSS1Compat')?document.body.scrollWidth:document.documentElement.scrollWidth;<b>var</b> w=Math.max(scrollWidth,Y.Dom.getViewportWidth());<b>return</b> w;},getViewportHeight:<b>function</b>(){<b>var</b> height=self.innerHeight;<b>var</b> mode=document.compatMode;<b>if</b>((mode||isIE)&amp;&amp;!isOpera){height=(mode=='CSS1Compat')?document.documentElement.clientHeight:document.body.clientHeight;}<b>return</b> height;},getViewportWidth:<b>function</b>(){<b>var</b> width=self.innerWidth;<b>var</b> mode=document.compatMode;<b>if</b>(mode||isIE){width=(mode=='CSS1Compat')?document.documentElement.clientWidth:document.body.clientWidth;}<b>return</b> width;}};})();YAHOO.util.Region=<b>function</b>(t,r,b,l){<b>this</b>.top=t;<b>this</b>[1]=t;<b>this</b>.right=r;<b>this</b>.bottom=b;<b>this</b>.left=l;<b>this</b>[0]=l;};YAHOO.util.Region.prototype.contains=<b>function</b>(region){<b>return</b>(region.left&gt;=<b>this</b>.left&amp;&amp;region.right&lt;=<b>this</b>.right&amp;&amp;region.top&gt;=<b>this</b>.top&amp;&amp;region.bottom&lt;=<b>this</b>.bottom);};YAHOO.util.Region.prototype.getArea=<b>function</b>(){<b>return</b>((<b>this</b>.bottom-<b>this</b>.top)*(<b>this</b>.right-<b>this</b>.left));};YAHOO.util.Region.prototype.intersect=<b>function</b>(region){<b>var</b> t=Math.max(<b>this</b>.top,region.top);<b>var</b> r=Math.min(<b>this</b>.right,region.right);<b>var</b> b=Math.min(<b>this</b>.bottom,region.bottom);<b>var</b> l=Math.max(<b>this</b>.left,region.left);<b>if</b>(b&gt;=t&amp;&amp;r&gt;=l){<b>return</b> new YAHOO.util.Region(t,r,b,l);}<b>else</b>{return null;}};YAHOO.util.Region.prototype.union=<b>function</b>(region){<b>var</b> t=Math.min(<b>this</b>.top,region.top);<b>var</b> r=Math.max(<b>this</b>.right,region.right);<b>var</b> b=Math.max(<b>this</b>.bottom,region.bottom);<b>var</b> l=Math.min(<b>this</b>.left,region.left);<b>return</b> new YAHOO.util.Region(t,r,b,l);};YAHOO.util.Region.prototype.toString=<b>function</b>(){<b>return</b>(&quot;Region {&quot;+&quot;top: &quot;+<b>this</b>.top+&quot;, right: &quot;+<b>this</b>.right+&quot;, bottom: &quot;+<b>this</b>.bottom+&quot;, left: &quot;+<b>this</b>.left+&quot;}&quot;);};YAHOO.util.Region.getRegion=<b>function</b>(el){<b>var</b> p=YAHOO.util.Dom.getXY(el);<b>var</b> t=p[1];<b>var</b> r=p[0]+el.offsetWidth;<b>var</b> b=p[1]+el.offsetHeight;<b>var</b> l=p[0];<b>return</b> new YAHOO.util.Region(t,r,b,l);};YAHOO.util.Point=<b>function</b>(x,y){<b>if</b>(x instanceof Array){y=x[1];x=x[0];}<b>this</b>.x=<b>this</b>.right=<b>this</b>.left=<b>this</b>[0]=x;<b>this</b>.y=<b>this</b>.top=<b>this</b>.bottom=<b>this</b>[1]=y;};YAHOO.util.Point.prototype=<b>new</b> YAHOO.util.Region();YAHOO.util.CustomEvent=<b>function</b>(_1,_2,_3,_4){<b>this</b>.type=_1;<b>this</b>.scope=_2||window;<b>this</b>.silent=_3;<b>this</b>.signature=_4||YAHOO.util.CustomEvent.LIST;<b>this</b>.subscribers=[];<b>if</b>(!<b>this</b>.silent){}<b>var</b> _5=&quot;_YUICEOnSubscribe&quot;;<b>if</b>(_1!==_5){<b>this</b>.subscribeEvent=<b>new</b> YAHOO.util.CustomEvent(_5,<b>this</b>,true);}};YAHOO.util.CustomEvent.LIST=0;YAHOO.util.CustomEvent.FLAT=1;YAHOO.util.CustomEvent.prototype={subscribe:<b>function</b>(fn,_7,_8){<b>if</b>(this.subscribeEvent){<b>this</b>.subscribeEvent.fire(fn,_7,_8);}<b>this</b>.subscribers.push(<b>new</b> YAHOO.util.Subscriber(fn,_7,_8));},unsubscribe:<b>function</b>(fn,_9){<b>var</b> _10=false;<b>for</b>(var i=0,len=<b>this</b>.subscribers.length;i&lt;len;++i){<b>var</b> s=<b>this</b>.subscribers[i];<b>if</b>(s&amp;&amp;s.contains(fn,_9)){<b>this</b>._delete(i);_10=true;}}<b>return</b> _10;},fire:<b>function</b>(){<b>var</b> len=<b>this</b>.subscribers.length;<b>if</b>(!len&amp;&amp;<b>this</b>.silent){<b>return</b> true;}<b>var</b> _14=[],ret=true,i;<b>for</b>(i=0;i&lt;arguments.length;++i){_14.push(arguments[i]);}<b>var</b> _15=_14.length;<b>if</b>(!<b>this</b>.silent){}<b>for</b>(i=0;i&lt;len;++i){<b>var</b> s=<b>this</b>.subscribers[i];<b>if</b>(s){<b>if</b>(!<b>this</b>.silent){}<b>var</b> _16=s.getScope(<b>this</b>.scope);<b>if</b>(this.signature==YAHOO.util.CustomEvent.FLAT){<b>var</b> _17=null;<b>if</b>(_14.length&gt;0){_17=_14[0];}ret=s.fn.call(_16,_17,s.obj);}<b>else</b>{ret=s.fn.call(_16,<b>this</b>.type,_14,s.obj);}<b>if</b>(false===ret){<b>if</b>(!<b>this</b>.silent){}<b>return</b> false;}}}<b>return</b> true;},unsubscribeAll:<b>function</b>(){<b>for</b>(var i=0,len=<b>this</b>.subscribers.length;i&lt;len;++i){<b>this</b>._delete(len-1-i);}},_delete:<b>function</b>(_18){<b>var</b> s=<b>this</b>.subscribers[_18];<b>if</b>(s){<b>delete</b> s.fn;<b>delete</b> s.obj;}<b>this</b>.subscribers.splice(_18,1);},toString:<b>function</b>(){<b>return</b> &quot;CustomEvent: &quot;+&quot;'&quot;+<b>this</b>.type+&quot;', &quot;+&quot;scope: &quot;+<b>this</b>.scope;}};YAHOO.util.Subscriber=<b>function</b>(fn,obj,_20){<b>this</b>.fn=fn;<b>this</b>.obj=obj||null;<b>this</b>.override=_20;};YAHOO.util.Subscriber.prototype.getScope=<b>function</b>(_21){<b>if</b>(this.override){<b>if</b>(this.override===true){<b>return</b> this.obj;}<b>else</b>{return <b>this</b>.override;}}<b>return</b> _21;};YAHOO.util.Subscriber.prototype.contains=<b>function</b>(fn,obj){<b>if</b>(obj){<b>return</b> (<b>this</b>.fn==fn&amp;&amp;<b>this</b>.obj==obj);}<b>else</b>{return (<b>this</b>.fn==fn);}};YAHOO.util.Subscriber.prototype.toString=<b>function</b>(){<b>return</b> &quot;Subscriber { obj: &quot;+(<b>this</b>.obj||&quot;&quot;)+&quot;, override: &quot;+(<b>this</b>.override||&quot;no&quot;)+&quot; }&quot;;};<b>if</b>(!YAHOO.util.Event){YAHOO.util.Event=<b>function</b>(){<b>var</b> _22=false;<b>var</b> _23=[];<b>var</b> _24=[];<b>var</b> _25=[];<b>var</b> _26=[];<b>var</b> _27=0;<b>var</b> _28=[];<b>var</b> _29=[];<b>var</b> _30=0;<b>return</b> {POLL_RETRYS:200,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,OBJ:3,ADJ_SCOPE:4,isSafari:(/Safari|Konqueror|KHTML/gi).test(navigator.userAgent),isIE:(!<b>this</b>.isSafari&amp;&amp;!navigator.userAgent.match(/opera/gi)&amp;&amp;navigator.userAgent.match(/msie/gi)),_interval:null,startInterval:<b>function</b>(){<b>if</b>(!<b>this</b>._interval){<b>var</b> _31=<b>this</b>;var _32=<b>function</b>(){_31._tryPreloadAttach();};<b>this</b>._interval=setInterval(_32,<b>this</b>.POLL_INTERVAL);}},onAvailable:<b>function</b>(_33,_34,_35,_36){_28.push({id:_33,fn:_34,obj:_35,override:_36,checkReady:false});_27=<b>this</b>.POLL_RETRYS;<b>this</b>.startInterval();},onContentReady:<b>function</b>(_37,_38,_39,_40){_28.push({id:_37,fn:_38,obj:_39,override:_40,checkReady:true});_27=<b>this</b>.POLL_RETRYS;<b>this</b>.startInterval();},addListener:<b>function</b>(el,_42,fn,obj,_43){<b>if</b>(!fn||!fn.call){<b>return</b> false;}<b>if</b>(this._isValidCollection(el)){<b>var</b> ok=true;<b>for</b>(var i=0,len=el.length;i&lt;len;++i){ok=<b>this</b>.on(el[i],_42,fn,obj,_43)&amp;&amp;ok;}<b>return</b> ok;}<b>else</b>{if(<b>typeof</b> el==&quot;string&quot;){<b>var</b> oEl=<b>this</b>.getEl(el);<b>if</b>(oEl){el=oEl;}<b>else</b>{this.onAvailable(el,<b>function</b>(){YAHOO.util.Event.on(el,_42,fn,obj,_43);});<b>return</b> true;}}}<b>if</b>(!el){<b>return</b> false;}<b>if</b>(&quot;unload&quot;==_42&amp;&amp;obj!==<b>this</b>){_24[_24.length]=[el,_42,fn,obj,_43];<b>return</b> true;}<b>var</b> _46=el;<b>if</b>(_43){<b>if</b>(_43===true){_46=obj;}<b>else</b>{_46=_43;}}<b>var</b> _47=<b>function</b>(e){<b>return</b> fn.call(_46,YAHOO.util.Event.getEvent(e),obj);};<b>var</b> li=[el,_42,fn,_47,_46];<b>var</b> _50=_23.length;_23[_50]=li;<b>if</b>(this.useLegacyEvent(el,_42)){<b>var</b> _51=<b>this</b>.getLegacyIndex(el,_42);<b>if</b>(_51==-1||el!=_25[_51][0]){_51=_25.length;_29[el.id+_42]=_51;_25[_51]=[el,_42,el[&quot;on&quot;+_42]];_26[_51]=[];el[&quot;on&quot;+_42]=<b>function</b>(e){YAHOO.util.Event.fireLegacyEvent(YAHOO.util.Event.getEvent(e),_51);};}_26[_51].push(li);}<b>else</b>{this._simpleAdd(el,_42,_47,false);}<b>return</b> true;},fireLegacyEvent:<b>function</b>(e,_52){<b>var</b> ok=true;<b>var</b> le=_26[_52];<b>for</b>(var i=0,len=le.length;i&lt;len;++i){<b>var</b> li=le[i];<b>if</b>(li&amp;&amp;li[<b>this</b>.WFN]){<b>var</b> _54=li[<b>this</b>.ADJ_SCOPE];<b>var</b> ret=li[<b>this</b>.WFN].call(_54,e);ok=(ok&amp;&amp;ret);}}<b>return</b> ok;},getLegacyIndex:<b>function</b>(el,_56){<b>var</b> key=<b>this</b>.generateId(el)+_56;<b>if</b>(typeof _29[key]==&quot;undefined&quot;){<b>return</b> -1;}<b>else</b>{return _29[key];}},useLegacyEvent:<b>function</b>(el,_58){<b>if</b>(!el.addEventListener&amp;&amp;!el.attachEvent){<b>return</b> true;}<b>else</b>{if(<b>this</b>.isSafari){<b>if</b>(&quot;click&quot;==_58||&quot;dblclick&quot;==_58){<b>return</b> true;}}}<b>return</b> false;},removeListener:<b>function</b>(el,_59,fn){<b>var</b> i,len;<b>if</b>(typeof el==&quot;string&quot;){el=<b>this</b>.getEl(el);}<b>else</b>{if(<b>this</b>._isValidCollection(el)){<b>var</b> ok=true;<b>for</b>(i=0,len=el.length;i&lt;len;++i){ok=(<b>this</b>.removeListener(el[i],_59,fn)&amp;&amp;ok);}<b>return</b> ok;}}<b>if</b>(!fn||!fn.call){<b>return</b> this.purgeElement(el,false,_59);}<b>if</b>(&quot;unload&quot;==_59){<b>for</b>(i=0,len=_24.length;i&lt;len;i++){<b>var</b> li=_24[i];<b>if</b>(li&amp;&amp;li[0]==el&amp;&amp;li[1]==_59&amp;&amp;li[2]==fn){_24.splice(i,1);<b>return</b> true;}}<b>return</b> false;}<b>var</b> _60=null;<b>var</b> _61=arguments[3];<b>if</b>(&quot;undefined&quot;==<b>typeof</b> _61){_61=<b>this</b>._getCacheIndex(el,_59,fn);}<b>if</b>(_61&gt;=0){_60=_23[_61];}<b>if</b>(!el||!_60){<b>return</b> false;}<b>if</b>(this.useLegacyEvent(el,_59)){<b>var</b> _62=<b>this</b>.getLegacyIndex(el,_59);<b>var</b> _63=_26[_62];<b>if</b>(_63){<b>for</b>(i=0,len=_63.length;i&lt;len;++i){li=_63[i];<b>if</b>(li&amp;&amp;li[<b>this</b>.EL]==el&amp;&amp;li[<b>this</b>.TYPE]==_59&amp;&amp;li[<b>this</b>.FN]==fn){_63.splice(i,1);}}}}<b>else</b>{this._simpleRemove(el,_59,_60[<b>this</b>.WFN],false);}<b>delete</b> _23[_61][<b>this</b>.WFN];<b>delete</b> _23[_61][<b>this</b>.FN];_23.splice(_61,1);<b>return</b> true;},getTarget:<b>function</b>(ev,_65){<b>var</b> t=ev.target||ev.srcElement;<b>return</b> this.resolveTextNode(t);},resolveTextNode:<b>function</b>(_67){<b>if</b>(_67&amp;&amp;3==_67.nodeType){<b>return</b> _67.parentNode;}<b>else</b>{return _67;}},getPageX:<b>function</b>(ev){<b>var</b> x=ev.pageX;<b>if</b>(!x&amp;&amp;0!==x){x=ev.clientX||0;<b>if</b>(this.isIE){x+=<b>this</b>._getScrollLeft();}}<b>return</b> x;},getPageY:<b>function</b>(ev){<b>var</b> y=ev.pageY;<b>if</b>(!y&amp;&amp;0!==y){y=ev.clientY||0;<b>if</b>(this.isIE){y+=<b>this</b>._getScrollTop();}}<b>return</b> y;},getXY:<b>function</b>(ev){<b>return</b> [<b>this</b>.getPageX(ev),<b>this</b>.getPageY(ev)];},getRelatedTarget:<b>function</b>(ev){<b>var</b> t=ev.relatedTarget;<b>if</b>(!t){<b>if</b>(ev.type==&quot;mouseout&quot;){t=ev.toElement;}<b>else</b>{if(ev.type==&quot;mouseover&quot;){t=ev.fromElement;}}}<b>return</b> this.resolveTextNode(t);},getTime:<b>function</b>(ev){<b>if</b>(!ev.time){<b>var</b> t=<b>new</b> Date().getTime();try{ev.time=t;}catch(e){<b>return</b> t;}}<b>return</b> ev.time;},stopEvent:<b>function</b>(ev){<b>this</b>.stopPropagation(ev);<b>this</b>.preventDefault(ev);},stopPropagation:<b>function</b>(ev){<b>if</b>(ev.stopPropagation){ev.stopPropagation();}<b>else</b>{ev.cancelBubble=true;}},preventDefault:<b>function</b>(ev){<b>if</b>(ev.preventDefault){ev.preventDefault();}<b>else</b>{ev.returnValue=false;}},getEvent:<b>function</b>(e){<b>var</b> ev=e||window.event;<b>if</b>(!ev){<b>var</b> c=<b>this</b>.getEvent.caller;<b>while</b>(c){ev=c.arguments[0];<b>if</b>(ev&amp;&amp;Event==ev.constructor){<b>break</b>;}c=c.caller;}}<b>return</b> ev;},getCharCode:<b>function</b>(ev){<b>return</b> ev.charCode||ev.keyCode||0;},_getCacheIndex:<b>function</b>(el,_71,fn){<b>for</b>(var i=0,len=_23.length;i&lt;len;++i){<b>var</b> li=_23[i];<b>if</b>(li&amp;&amp;li[<b>this</b>.FN]==fn&amp;&amp;li[<b>this</b>.EL]==el&amp;&amp;li[<b>this</b>.TYPE]==_71){<b>return</b> i;}}<b>return</b> -1;},generateId:<b>function</b>(el){<b>var</b> id=el.id;<b>if</b>(!id){id=&quot;yuievtautoid-&quot;+_30;++_30;el.id=id;}<b>return</b> id;},_isValidCollection:<b>function</b>(o){<b>return</b> (o&amp;&amp;o.length&amp;&amp;<b>typeof</b> o!=&quot;string&quot;&amp;&amp;!o.tagName&amp;&amp;!o.alert&amp;&amp;<b>typeof</b> o[0]!=&quot;undefined&quot;);},elCache:{},getEl:<b>function</b>(id){<b>return</b> document.getElementById(id);},clearCache:<b>function</b>(){},_load:<b>function</b>(e){_22=true;<b>var</b> EU=YAHOO.util.Event;<b>if</b>(this.isIE){EU._simpleRemove(window,&quot;load&quot;,EU._load);}},_tryPreloadAttach:<b>function</b>(){<b>if</b>(this.locked){<b>return</b> false;}<b>this</b>.locked=true;<b>var</b> _75=!_22;<b>if</b>(!_75){_75=(_27&gt;0);}<b>var</b> _76=[];<b>for</b>(var i=0,len=_28.length;i&lt;len;++i){<b>var</b> _77=_28[i];<b>if</b>(_77){<b>var</b> el=<b>this</b>.getEl(_77.id);<b>if</b>(el){<b>if</b>(!_77.checkReady||_22||el.nextSibling||(document&amp;&amp;document.body)){<b>var</b> _78=el;<b>if</b>(_77.override){<b>if</b>(_77.override===true){_78=_77.obj;}<b>else</b>{_78=_77.override;}}_77.fn.call(_78,_77.obj);<b>delete</b> _28[i];}}<b>else</b>{_76.push(_77);}}}_27=(_76.length===0)?0:_27-1;<b>if</b>(_75){<b>this</b>.startInterval();}<b>else</b>{clearInterval(<b>this</b>._interval);<b>this</b>._interval=null;}<b>this</b>.locked=false;<b>return</b> true;},purgeElement:<b>function</b>(el,_79,_80){<b>var</b> _81=<b>this</b>.getListeners(el,_80);<b>if</b>(_81){<b>for</b>(var i=0,len=_81.length;i&lt;len;++i){<b>var</b> l=_81[i];<b>this</b>.removeListener(el,l.type,l.fn);}}<b>if</b>(_79&amp;&amp;el&amp;&amp;el.childNodes){<b>for</b>(i=0,len=el.childNodes.length;i&lt;len;++i){<b>this</b>.purgeElement(el.childNodes[i],_79,_80);}}},getListeners:<b>function</b>(el,_83){<b>var</b> _84=[];<b>if</b>(_23&amp;&amp;_23.length&gt;0){<b>for</b>(var i=0,len=_23.length;i&lt;len;++i){<b>var</b> l=_23[i];<b>if</b>(l&amp;&amp;l[<b>this</b>.EL]===el&amp;&amp;(!_83||_83===l[<b>this</b>.TYPE])){_84.push({type:l[<b>this</b>.TYPE],fn:l[<b>this</b>.FN],obj:l[<b>this</b>.OBJ],adjust:l[<b>this</b>.ADJ_SCOPE],index:i});}}}<b>return</b> (_84.length)?_84:null;},_unload:<b>function</b>(e){<b>var</b> EU=YAHOO.util.Event,i,j,l,len,index;<b>for</b>(i=0,len=_24.length;i&lt;len;++i){l=_24[i];<b>if</b>(l){<b>var</b> _85=window;<b>if</b>(l[EU.ADJ_SCOPE]){<b>if</b>(l[EU.ADJ_SCOPE]===true){_85=l[EU.OBJ];}<b>else</b>{_85=l[EU.ADJ_SCOPE];}}l[EU.FN].call(_85,EU.getEvent(e),l[EU.OBJ]);<b>delete</b> _24[i];l=null;_85=null;}}<b>if</b>(_23&amp;&amp;_23.length&gt;0){j=_23.length;<b>while</b>(j){index=j-1;l=_23[index];<b>if</b>(l){EU.removeListener(l[EU.EL],l[EU.TYPE],l[EU.FN],index);}j=j-1;}l=null;EU.clearCache();}<b>for</b>(i=0,len=_25.length;i&lt;len;++i){<b>delete</b> _25[i][0];<b>delete</b> _25[i];}EU._simpleRemove(window,&quot;unload&quot;,EU._unload);},_getScrollLeft:<b>function</b>(){<b>return</b> this._getScroll()[1];},_getScrollTop:<b>function</b>(){<b>return</b> this._getScroll()[0];},_getScroll:<b>function</b>(){<b>var</b> dd=document.documentElement,db=document.body;<b>if</b>(dd&amp;&amp;(dd.scrollTop||dd.scrollLeft)){<b>return</b> [dd.scrollTop,dd.scrollLeft];}<b>else</b>{if(db){<b>return</b> [db.scrollTop,db.scrollLeft];}<b>else</b>{return [0,0];}}},_simpleAdd:<b>function</b>(){<b>if</b>(window.addEventListener){<b>return</b> function(el,_87,fn,_88){el.addEventListener(_87,fn,(_88));};}<b>else</b>{if(window.attachEvent){<b>return</b> function(el,_89,fn,_90){el.attachEvent(&quot;on&quot;+_89,fn);};}<b>else</b>{return <b>function</b>(){};}}}(),_simpleRemove:<b>function</b>(){<b>if</b>(window.removeEventListener){<b>return</b> function(el,_91,fn,_92){el.removeEventListener(_91,fn,(_92));};}<b>else</b>{if(window.detachEvent){<b>return</b> function(el,_93,fn){el.detachEvent(&quot;on&quot;+_93,fn);};}<b>else</b>{return <b>function</b>(){};}}}()};}();(<b>function</b>(){<b>var</b> EU=YAHOO.util.Event;EU.on=EU.addListener;<b>if</b>(document&amp;&amp;document.body){EU._load();}<b>else</b>{EU._simpleAdd(window,&quot;load&quot;,EU._load);}EU._simpleAdd(window,&quot;unload&quot;,EU._unload);EU._tryPreloadAttach();})();}YAHOO.util.EventProvider=<b>function</b>(){};YAHOO.util.EventProvider.prototype={__yui_events:null,__yui_subscribers:null,subscribe:<b>function</b>(_94,_95,_96,_97){<b>this</b>.__yui_events=<b>this</b>.__yui_events||{};<b>var</b> ce=<b>this</b>.__yui_events[_94];<b>if</b>(ce){ce.subscribe(_95,_96,_97);}<b>else</b>{this.__yui_subscribers=<b>this</b>.__yui_subscribers||{};<b>var</b> _99=<b>this</b>.__yui_subscribers;<b>if</b>(!_99[_94]){_99[_94]=[];}_99[_94].push({fn:_95,obj:_96,override:_97});}},unsubscribe:<b>function</b>(_100,p_fn,_102){<b>this</b>.__yui_events=<b>this</b>.__yui_events||{};<b>var</b> ce=<b>this</b>.__yui_events[_100];<b>if</b>(ce){<b>return</b> ce.unsubscribe(p_fn,_102);}<b>else</b>{return false;}},createEvent:<b>function</b>(_103,_104){<b>this</b>.__yui_events=<b>this</b>.__yui_events||{};<b>var</b> opts=_104||{};<b>var</b> _106=<b>this</b>.__yui_events;<b>if</b>(_106[_103]){}<b>else</b>{var _107=opts.scope||<b>this</b>;var _108=opts.silent||null;<b>var</b> ce=<b>new</b> YAHOO.util.CustomEvent(_103,_107,_108,YAHOO.util.CustomEvent.FLAT);_106[_103]=ce;<b>if</b>(opts.onSubscribeCallback){ce.subscribeEvent.subscribe(opts.onSubscribeCallback);}<b>this</b>.__yui_subscribers=<b>this</b>.__yui_subscribers||{};<b>var</b> qs=<b>this</b>.__yui_subscribers[_103];<b>if</b>(qs){<b>for</b>(var i=0;i&lt;qs.length;++i){ce.subscribe(qs[i].fn,qs[i].obj,qs[i].override);}}}<b>return</b> _106[_103];},fireEvent:<b>function</b>(_110,arg1,arg2,etc){<b>this</b>.__yui_events=<b>this</b>.__yui_events||{};<b>var</b> ce=<b>this</b>.__yui_events[_110];<b>if</b>(ce){<b>var</b> args=[];<b>for</b>(var i=1;i&lt;arguments.length;++i){args.push(arguments[i]);}<b>return</b> ce.fire.apply(ce,args);}<b>else</b>{return null;}},hasEvent:<b>function</b>(type){<b>if</b>(this.__yui_events){<b>if</b>(this.__yui_events[type]){<b>return</b> true;}}<b>return</b> false;}};</code></pre><hr><div style="font-size:10px;text-align:center;color:gray;">yui-ext - Copyright &copy; 2006 Jack Slocum.  |
    Yahoo! UI - Copyright &copy; 2006 Yahoo! Inc.<br />All rights reserved.</div>
    </body></html>